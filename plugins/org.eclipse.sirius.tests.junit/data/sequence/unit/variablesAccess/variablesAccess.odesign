<?xml version="1.0" encoding="ASCII"?>
<description:Group xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:description="http://www.eclipse.org/sirius/description/1.1.0" xmlns:description_1="http://www.eclipse.org/sirius/diagram/sequence/description/2.0.0" xmlns:style="http://www.eclipse.org/sirius/diagram/description/style/1.1.0" xmlns:tool="http://www.eclipse.org/sirius/diagram/description/tool/1.1.0" xmlns:tool_1="http://www.eclipse.org/sirius/description/tool/1.1.0" xmlns:tool_2="http://www.eclipse.org/sirius/diagram/sequence/description/tool/2.0.0" name="Interaction" version="10.1.0.201507271600">
  <ownedViewpoints name="Interactions" label="Interactions" modelFileExtension="interactions">
    <ownedRepresentations xsi:type="description_1:SequenceDiagramDescription" name="Sequence Diagram Example with Combined Fragments Support" label="Sequence Diagram with Combined Fragments" titleExpression="aql:'Sequence Diagram with Combined Fragments on ' + self.name" domainClass="interactions.Interaction" endsOrdering="aql:self.ends->size() > 0  and  eventEnds->size() > 0">
      <metamodel href="http://www.eclipse.org/sirius/sample/interactions#/"/>
      <defaultLayer name="Default">
        <nodeMappings xsi:type="description_1:InstanceRoleMapping" name="Participant" labelDirectEdit="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.0/@ownedTools[name='Edit%20Participant']" semanticCandidatesExpression="aql:self.participants" semanticElements="var:self" domainClass="interactions.Participant">
          <borderedNodeMappings xsi:type="description_1:ExecutionMapping" name="Lifeline" semanticCandidatesExpression="var:self" semanticElements="var:self" domainClass="interactions.Participant" startingEndFinderExpression="var:self" finishingEndFinderExpression="var:self">
            <borderedNodeMappings xsi:type="description_1:ExecutionMapping" name="Execution" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.1/@ownedTools[name='Delete%20Execution']" semanticCandidatesExpression="aql: let owner_ : Participant = if self.oclIsKindOf(Participant) then self.oclAsType(Participant) else self.oclAsType(Execution).owner.oclAsType(Participant) endif in let _ends : Sequence(AbstractEnd) = Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = owner_ ) in let filteredEnds : Sequence(AbstractEnd) = if self.oclIsTypeOf(Participant) then _ends else let firstIndex : Integer = _ends->indexOf(self.oclAsType(Execution).start) in let lastIndex : Integer = _ends->indexOf(self.oclAsType(Execution).end) in if ((lastIndex-1)>=(firstIndex+1) and not firstIndex.oclIsInvalid() and not lastIndex.oclIsInvalid()) then _ends->subSequence(firstIndex+1, lastIndex-1) else _ends->select(false) endif endif in filteredEnds->select(end : AbstractEnd | end.oclIsKindOf(ExecutionEnd))->collect(execEnd : AbstractEnd | execEnd.oclAsType(ExecutionEnd).execution)->asSet()" semanticElements="aql:OrderedSet{self, self.start, self.end, self.owner}" domainClass="interactions.Execution" reusedBorderedNodeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='State']" startingEndFinderExpression="aql:self.start" finishingEndFinderExpression="aql:self.end">
              <style xsi:type="style:SquareDescription" borderSizeComputationExpression="1" showIcon="false" labelExpression="" resizeKind="NORTH_SOUTH" width="2" height="5" color="//@userColorsPalettes[name='Dutch%20Seas']/@entries[name='Interpolated%20blue%20for%20Executions']">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_blue']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
            </borderedNodeMappings>
            <borderedNodeMappings xsi:type="description_1:StateMapping" name="State" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.5/@ownedTools[name='Delete%20State']" labelDirectEdit="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.5/@ownedTools[name='Edit%20State']" semanticCandidatesExpression="aql: let owner_ : Participant = if self.oclIsKindOf(Participant) then self.oclAsType(Participant) else self.oclAsType(State).owner.oclAsType(Participant) endif in let _ends : Sequence(AbstractEnd) = Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = owner_ ) in let filteredEnds : Sequence(AbstractEnd) = if self.oclIsTypeOf(Participant) then _ends else let firstIndex : Integer = _ends->indexOf(self.oclAsType(State).start) in let lastIndex : Integer = _ends->indexOf(self.oclAsType(State).end) in if ((lastIndex-1)>=(firstIndex+1) and not firstIndex.oclIsInvalid() and not lastIndex.oclIsInvalid()) then _ends->subSequence(firstIndex+1, lastIndex-1) else _ends->select(false) endif endif in filteredEnds->select(end : AbstractEnd | end.oclIsKindOf(StateEnd))->collect(execEnd : AbstractEnd | execEnd.oclAsType(StateEnd).state)->asSet()" semanticElements="aql:OrderedSet{self, self.start, self.end, self.owner}" domainClass="interactions.State" startingEndFinderExpression="aql:self.start" finishingEndFinderExpression="aql:self.end">
              <style xsi:type="style:EllipseNodeDescription" borderColor="//@userColorsPalettes[name='Skyblue']/@entries[name='Midnight_Skyblue']" labelSize="15" showIcon="false" labelColor="//@userColorsPalettes[name='Greens']/@entries[name='Watery%20Green']" labelPosition="node" resizeKind="NORTH_SOUTH" color="//@userColorsPalettes[name='Skyblue']/@entries[name='High_Skyblue']" horizontalDiameterComputationExpression="12" verticalDiameterComputationExpression="3"/>
            </borderedNodeMappings>
            <borderedNodeMappings xsi:type="description_1:EndOfLifeMapping" name="EOL" preconditionExpression="aql:self.eContainerOrSelf(interactions::Interaction).messages->filter(interactions::DestroyParticipantMessage).receivingEnd->select( e | e.context = self)->size() > 0" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.0/@ownedTools[name='Delete%20EndOfLife']" semanticCandidatesExpression="var:self" semanticElements="var:self" domainClass="interactions.Participant">
              <style xsi:type="style:WorkspaceImageDescription" showIcon="false" labelExpression="" sizeComputationExpression="5" arcWidth="1" arcHeight="1" workspacePath="/org.eclipse.sirius.sample.interactions.design/description/eol.png">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </style>
            </borderedNodeMappings>
            <borderedNodeMappings xsi:type="description_1:EndOfLifeMapping" name="redimEOL" preconditionExpression="aql:self.eContainerOrSelf(interactions::Interaction).messages->filter(interactions::DestroyParticipantMessage).receivingEnd->select( e | e.context = self)->size()=0" semanticCandidatesExpression="var:self" semanticElements="var:self" domainClass="interactions.Participant">
              <style xsi:type="style:DotDescription" labelExpression="" sizeComputationExpression="1" strokeSizeComputationExpression="1">
                <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
                <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
              </style>
            </borderedNodeMappings>
            <style xsi:type="style:SquareDescription" borderSizeComputationExpression="3" showIcon="false" labelExpression="" resizeKind="NSEW" width="1" height="40">
              <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='blue']"/>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            </style>
          </borderedNodeMappings>
          <style xsi:type="style:SquareDescription" labelSize="12" showIcon="false" labelExpression="aql:self.name + ' : ' + self.type.name" sizeComputationExpression="" labelPosition="node" resizeKind="NSEW" width="12" height="5">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelFormat>bold</labelFormat>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <color xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='blue']"/>
          </style>
        </nodeMappings>
        <edgeMappings xsi:type="description_1:BasicMessageMapping" name="Feature Access Message" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.2/@ownedTools[name='Delete%20Message']" labelDirectEdit="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.2/@ownedTools[name='Edit%20Message']" semanticCandidatesExpression="aql:self.messages" semanticElements="aql: Sequence{self,  self.sendingEnd, self.receivingEnd, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.recevingEnd._context) in let indexOfRecevingEnd : Integer = _ends->indexOf(self.recevingEnd) in if (indexOfRecevingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfRecevingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.RecevingEnd._context else executionOnTarget endif else self.recevingEnd._context endif}" sourceMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution']" targetMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution']" targetFinderExpression="ocl : let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.recevingEnd._context) in let indexOfRecevingEnd : Integer = _ends->indexOf(self.recevingEnd) in if (indexOfRecevingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfRecevingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.RecevingEnd._context else executionOnTarget endif else self.recevingEnd._context endif" sourceFinderExpression="aql: let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif" domainClass="interactions.FeatureAccessMessage" useDomainElement="true" sendingEndFinderExpression="aql:self.sendingEnd" receivingEndFinderExpression="aql:self.receivingEnd">
          <style sizeComputationExpression="2">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_green']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="aql:self.name + ' (read ' + self.getReceivingContext().currentParticipant().name + '.' + self.feature.name + ')'">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <conditionnalStyles predicateExpression="aql:self.isWrite">
            <style sizeComputationExpression="2">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='dark_orange']"/>
              <centerLabelStyleDescription showIcon="false" labelExpression="aql:self.name + ' (write ' + self.getReceivingContext().currentParticipant().name + '.' self.feature.name + ')'">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
        </edgeMappings>
        <edgeMappings xsi:type="description_1:BasicMessageMapping" name="Call Message" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.2/@ownedTools[name='Delete%20Message']" labelDirectEdit="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.2/@ownedTools[name='Edit%20Message']" semanticCandidatesExpression="aql:self.messages" semanticElements="aql: Sequence{self,  self.sendingEnd, self.receivingEnd, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.recevingEnd._context) in let indexOfRecevingEnd : Integer = _ends->indexOf(self.recevingEnd) in if (indexOfRecevingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfRecevingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.RecevingEnd._context else executionOnTarget endif else self.recevingEnd._context endif}" sourceMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution']" targetMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']" targetFinderExpression="aql: let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.recevingEnd._context) in let indexOfRecevingEnd : Integer = _ends->indexOf(self.recevingEnd) in if (indexOfRecevingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfRecevingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.RecevingEnd._context else executionOnTarget endif else self.recevingEnd._context endif" sourceFinderExpression="aql: let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif" domainClass="interactions.CallMessage" useDomainElement="true" sendingEndFinderExpression="aql:self.sendingEnd" receivingEndFinderExpression="aql:self.receivingEnd">
          <style sizeComputationExpression="2">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='blue']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="aql:self.name + ' (call ' + self.getReceivingContext().currentParticipant().name + '.' + self.operation.name + ')'">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_1:CreationMessageMapping" name="Create Participant Message" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.2/@ownedTools[name='Delete%20Message']" labelDirectEdit="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.2/@ownedTools[name='Edit%20Message']" semanticCandidatesExpression="aql:self.messages" semanticElements="aql: Sequence{self, self.sendingEnd, self.receivingEnd, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.receivingEnd._context) in let indexOfReceivingEnd : Integer = _ends->indexOf(self.receivingEnd) in if (indexOfReceivingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfReceivingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.receivingEnd._context else executionOnTarget endif else self.receivingEnd._context endif}" sourceMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution']" targetMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']" targetFinderExpression="aql: let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.receivingEnd._context) in let indexOfReceivingEnd : Integer = _ends->indexOf(self.receivingEnd) in if (indexOfReceivingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfReceivingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.receivingEnd._context else executionOnTarget endif else self.receivingEnd._context endif" sourceFinderExpression="aql: let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif" domainClass="interactions.CreateParticipantMessage" useDomainElement="true" sendingEndFinderExpression="aql:self.sendingEnd" receivingEndFinderExpression="aql:self.receivingEnd">
          <style lineStyle="dash" targetArrow="InputFillClosedArrow" sizeComputationExpression="2">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='green']"/>
            <centerLabelStyleDescription showIcon="false" labelExpression="aql:self.name + ' (new ' + self.receivingEnd.context.name + ')'">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_1:DestructionMessageMapping" name="Destroy Participant Message" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.2/@ownedTools[name='Delete%20Message']" labelDirectEdit="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.2/@ownedTools[name='Edit%20Message']" semanticCandidatesExpression="aql:self.messages" semanticElements="aql: Sequence{self,  self.sendingEnd, self.receivingEnd, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.recevingEnd._context) in let indexOfRecevingEnd : Integer = _ends->indexOf(self.recevingEnd) in if (indexOfRecevingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfRecevingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.RecevingEnd._context else executionOnTarget endif else self.recevingEnd._context endif}" sourceMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution']" targetMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='EOL']" targetFinderExpression="aql: let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.recevingEnd._context) in let indexOfRecevingEnd : Integer = _ends->indexOf(self.recevingEnd) in if (indexOfRecevingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfRecevingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.RecevingEnd._context else executionOnTarget endif else self.recevingEnd._context endif" sourceFinderExpression="aql: let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif" domainClass="interactions.DestroyParticipantMessage" useDomainElement="true" sendingEndFinderExpression="aql:self.sendingEnd" receivingEndFinderExpression="aql:self.receivingEnd">
          <style lineStyle="dash" targetArrow="InputFillClosedArrow" sizeComputationExpression="2">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_red']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings xsi:type="description_1:ReturnMessageMapping" name="Return Message" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.2/@ownedTools[name='Delete%20Message']" semanticCandidatesExpression="aql:self.messages" semanticElements="aql: Sequence{self,  self.sendingEnd, self.receivingEnd, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif, let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.recevingEnd._context) in let indexOfRecevingEnd : Integer = _ends->indexOf(self.recevingEnd) in if (indexOfRecevingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfRecevingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.RecevingEnd._context else executionOnTarget endif else self.recevingEnd._context endif}" sourceMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution']" targetMapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution']" targetFinderExpression="aql: let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.recevingEnd._context) in let indexOfRecevingEnd : Integer = _ends->indexOf(self.recevingEnd) in if (indexOfRecevingEnd > 1) then let executionOnTarget : Execution =  _ends->subSequence(1, indexOfRecevingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnTarget.oclIsInvalid() then self.RecevingEnd._context else executionOnTarget endif else self.recevingEnd._context endif" sourceFinderExpression="aql: let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e._context = self.sendingEnd._context) in let indexOfSendingEnd : Integer = _ends->indexOf(self.sendingEnd) in if (indexOfSendingEnd > 1) then let executionOnSource : Execution =  _ends->subSequence(1, indexOfSendingEnd-1)->select(ae : AbstractEnd | ae.oclIsKindOf(ExecutionEnd))->last().oclAsType(ExecutionEnd).execution in if executionOnSource.oclIsInvalid() then self.sendingEnd._context else executionOnSource endif else self.sendingEnd._context endif" domainClass="interactions.ReturnMessage" useDomainElement="true" sendingEndFinderExpression="aql:self.sendingEnd" receivingEndFinderExpression="aql:self.receivingEnd" invocationMessageFinderExpression="aql:self.invocationMessage">
          <style lineStyle="dot" sizeComputationExpression="aql:self.eContents()->size()">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='blue']"/>
            <centerLabelStyleDescription showIcon="false">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <containerMappings xsi:type="description_1:InteractionUseMapping" name="Interaction Use" preconditionExpression="aql:self.coveredParticipants->size()" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.3/@ownedTools[name='Delete%20Interaction%20Use']" labelDirectEdit="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.3/@ownedTools[name='Edit%20IU%20Label']" semanticCandidatesExpression="feature:eAllContents" semanticElements="aql:Sequence{self} + Sequence{self.interaction}" domainClass="interactions.InteractionUse" startingEndFinderExpression="aql:self.startingEnd" finishingEndFinderExpression="aql:self.finish" coveredLifelinesExpression="aql:self.coveredParticipants" centerLabelExpression="aql:'call(' + self.interaction.name + ')'">
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="1" arcHeight="1" borderSizeComputationExpression="1" labelExpression="aql:self.type" labelAlignment="LEFT">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='light_gray']"/>
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <containerMappings xsi:type="description_1:CombinedFragmentMapping" name="Combined Fragment" preconditionExpression="aql:self.coveredParticipants->size()" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.4/@ownedTools[name='Delete%20Combined%20Fragment']" labelDirectEdit="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.4/@ownedTools[name='Edit%20Combined%20Fragment']" semanticCandidatesExpression="feature:eAllContents" semanticElements="aql:self" domainClass="interactions.CombinedFragment" startingEndFinderExpression="aql:self.start" finishingEndFinderExpression="aql:self.finish" coveredLifelinesExpression="aql:self.coveredParticipants">
          <subContainerMappings xsi:type="description_1:OperandMapping" name="Operand" deletionDescription="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.4/@subSections[name='Operands']/@ownedTools[name='Delete%20Operand']" labelDirectEdit="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.4/@subSections[name='Operands']/@ownedTools[name='Edit%20Operand']" semanticCandidatesExpression="aql:self.ownedOperands" semanticElements="var:self" domainClass="interactions.Operand" startingEndFinderExpression="aql:self.start" finishingEndFinderExpression="ocl : let _ends : Sequence(AbstractEnd) =  Interaction.allInstances()->any(true).ends->asSequence()->select(e : AbstractEnd | e.oclIsKindOf(OperandEnd) or e.oclIsKindOf(CombinedFragmentEnd)) in let indexOfOperandEnd : Integer = _ends->indexOf(self.start) in let nextEnd : AbstractEnd = _ends->subSequence(indexOfOperandEnd+1, _ends->size())->first() in nextEnd">
            <style xsi:type="style:FlatContainerStyleDescription" arcWidth="1" arcHeight="1" borderSizeComputationExpression="1" borderColor="//@userColorsPalettes[name='Dutch%20Seas']/@entries[name='Dutch%20teal']" showIcon="false" labelExpression="[aql:self.name]" labelColor="//@userColorsPalettes[name='Skyblue']/@entries[name='Evening_Skyblue']" labelAlignment="LEFT" backgroundStyle="GradientTopToBottom" backgroundColor="//@userColorsPalettes[name='Dutch%20Seas']/@entries[name='Paleolitico']" foregroundColor="//@userColorsPalettes[name='Dutch%20Seas']/@entries[name='Paleolitico']"/>
          </subContainerMappings>
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="1" arcHeight="1" borderSizeComputationExpression="1" borderColor="//@userColorsPalettes[name='Dutch%20Seas']/@entries[name='Dutch%20teal']" showIcon="false" labelExpression="aql:self.operator" labelColor="//@userColorsPalettes[name='Skyblue']/@entries[name='Evening_Skyblue']" labelAlignment="LEFT" backgroundColor="//@userColorsPalettes[name='Greens']/@entries[name='Interpolated%20green%20for%20Combined%20Fragments']" foregroundColor="//@userColorsPalettes[name='Greens']/@entries[name='Interpolated%20green%20for%20Combined%20Fragments']">
            <labelBorderStyle href="environment:/viewpoint#//@labelBorderStyles/@labelBorderStyleDescriptions.0"/>
          </style>
        </containerMappings>
        <toolSections name="Participants">
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Participant" nodeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']">
            <variable name="containerBis"/>
            <viewVariable name="containerViewBis"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:container">
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.Participant" referenceName="participants">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'newParticipant' + self.eContainerOrSelf(interactions::Interaction).participants->size()"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Participant">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="var:arg0"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete EndOfLife">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:self"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Executions">
          <ownedTools xsi:type="tool_2:ExecutionCreationTool" name="Execution" nodeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:self">
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.eContainerOrSelf(interactions::Interaction)">
                  <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.Execution" referenceName="executions" variableName="newExecution">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="aql: if $container.oclIsTypeOf(Participant) then $container else if  $container.oclIsTypeOf(Execution) then $container.oclAsType(Execution).owner else null endif endif"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.ExecutionEnd" referenceName="ends" variableName="startingEnd">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="execution" valueExpression="var:newExecution"/>
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql:newExecution.owner"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.ExecutionEnd" referenceName="ends" variableName="finishingEnd">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="execution" valueExpression="var:newExecution"/>
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql:newExecution.owner"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newExecution">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="start" valueExpression="var:startingEnd"/>
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="end" valueExpression="var:finishingEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move finishingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="var:self"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="var:finishingEnd"/>
                    <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move startingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="var:self"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="var:startingEnd"/>
                    <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newExecution">
                    <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new execution position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.0/@subModelOperations.2"/>
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'e' + self.eContainerOrSelf(interactions::Interaction).executions->size()"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:startingEnd">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'start_'+self.execution.name"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:finishingEnd">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'finish_' + self.execution.name"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Execution">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:element">
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.start">
                  <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:not self.oclIsKindOf(interactions::MixEnd) or (self.oclIsKindOf(interactions::MixEnd) and self.message = null)">
                    <subModelOperations xsi:type="tool_1:RemoveElement"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.end">
                  <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:not self.oclIsKindOf(interactions::MixEnd) or (self.oclIsKindOf(interactions::MixEnd) and self.message = null)">
                    <subModelOperations xsi:type="tool_1:RemoveElement"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:RemoveElement"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Messages">
          <ownedTools xsi:type="tool_2:MessageCreationTool" name="Create" edgeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Create%20Participant%20Message']" extraTargetMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:source.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.CreateParticipantMessage" referenceName="messages" variableName="newMessage"/>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="sendingEnd" valueExpression="var:sendingEnd"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="receivingEnd" valueExpression="var:receivingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move sendingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:sendingEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move receivingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:receivingEnd"/>
                  <parameters name="predecessor" value="aql:newMessage.sendingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new call message position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.2/@subModelOperations.2"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'m_create' + self.eContainerOrSelf(interactions::Interaction).messages->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'send_'+ self.message.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'receive_' + self.message.name"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" name="Read" edgeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Feature%20Access%20Message']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:source.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.FeatureAccessMessage" referenceName="messages" variableName="newMessage"/>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="sendingEnd" valueExpression="var:sendingEnd"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="receivingEnd" valueExpression="var:receivingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move receivingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:receivingEnd"/>
                  <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move sendingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:sendingEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new read message position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.2/@subModelOperations.2"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'m' + self.eContainerOrSelf(interactions::Interaction).messages->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'send_'+ self.message.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'receive_' + self.message.name"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" name="Write" edgeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Feature%20Access%20Message']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:source.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Show variables" id="org.eclipse.sirius.business.api.action.printVariables">
                  <parameters name="title" value="Write Feature Message Creation"/>
                  <parameters name="enabled" value="aql:false"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.FeatureAccessMessage" referenceName="messages" variableName="newMessage">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="isWrite" valueExpression="aql:true"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="sendingEnd" valueExpression="var:sendingEnd"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="receivingEnd" valueExpression="var:receivingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move receivingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:receivingEnd"/>
                  <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move sendingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:sendingEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new write message position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.2/@subModelOperations.2"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'m' + self.eContainerOrSelf(interactions::Interaction).messages->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'send_'+ self.message.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'receive_' + self.message.name"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" name="Call" edgeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Call%20Message']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:source.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Show variables" id="org.eclipse.sirius.business.api.action.printVariables">
                  <parameters name="title" value="Call Message Creation"/>
                  <parameters name="enabled" value="aql:false"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.CallMessage" referenceName="messages" variableName="newMessage"/>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="sendingEnd" valueExpression="var:sendingEnd"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="receivingEnd" valueExpression="var:receivingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move receivingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:receivingEnd"/>
                  <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move sendingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:sendingEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new call message position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.2/@subModelOperations.2"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'m' + self.eContainerOrSelf(interactions::Interaction).messages->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'send_'+ self.message.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'receive_' + self.message.name"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" name="Return" edgeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Return%20Message']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:source.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.ReturnMessage" referenceName="messages" variableName="newMessage"/>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="sendingEnd" valueExpression="var:sendingEnd"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="receivingEnd" valueExpression="var:receivingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move receivingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:receivingEnd"/>
                  <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move sendingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:sendingEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new return message position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.2/@subModelOperations.2"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'m_return' + self.eContainerOrSelf(interactions::Interaction).messages->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'send_'+ self.message.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'receive_' + self.message.name"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Message">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:self">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="var:arg0"/>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'send_' + arg0"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'receive_' + arg0"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Message">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:element">
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.sendingEnd">
                  <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:not self.oclIsKindOf(interactions::MixEnd) or (self.oclIsKindOf(interactions::MixEnd) and self.execution = null)">
                    <subModelOperations xsi:type="tool_1:RemoveElement"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.receivingEnd">
                  <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:not self.oclIsKindOf(interactions::MixEnd) or (self.oclIsKindOf(interactions::MixEnd) and self.execution = null)">
                    <subModelOperations xsi:type="tool_1:RemoveElement"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:RemoveElement"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" name="Sync Call" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Call%20Message']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:source.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Show variables" id="org.eclipse.sirius.business.api.action.printVariables">
                  <parameters name="title" value="Call Message Creation"/>
                  <parameters name="enabled" value="aql:false"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.CallMessage" referenceName="messages" variableName="callMsg"/>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:callMsg">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'m' + self.eContainerOrSelf(interactions::Interaction).messages->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.Execution" referenceName="executions" variableName="newExecution">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newExecution">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'e' + self.eContainerOrSelf(interactions::Interaction).executions->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.ReturnMessage" referenceName="messages" variableName="returnMsg">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="invocationMessage" valueExpression="var:callMsg"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:returnMsg">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'m_return' + self.eContainerOrSelf(interactions::Interaction).messages->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:callMsg"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'send_'+ self.message.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MixEnd" referenceName="ends" variableName="startExec">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="execution" valueExpression="var:newExecution"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:callMsg"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'start_'+self.execution.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MixEnd" referenceName="ends" variableName="endExec">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="execution" valueExpression="var:newExecution"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:returnMsg"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'finish_' + self.execution.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:returnMsg"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'receive_' + self.message.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:callMsg">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="sendingEnd" valueExpression="var:sendingEnd"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="receivingEnd" valueExpression="var:startExec"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newExecution">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="start" valueExpression="var:startExec"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="end" valueExpression="var:endExec"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:returnMsg">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="sendingEnd" valueExpression="var:endExec"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="receivingEnd" valueExpression="var:receivingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move startExec" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:startExec"/>
                  <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move sendingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:sendingEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move endExec" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:endExec"/>
                  <parameters name="predecessor" value="var:startExec"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move receivingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:receivingEnd"/>
                  <parameters name="predecessor" value="var:endExec"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:callMsg">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new call message position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.2/@subModelOperations.2"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newExecution">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new execution position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.0/@subModelOperations.2"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:returnMsg">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new return message position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.2/@subModelOperations.2"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" name="ASync Call" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Call%20Message']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:source.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Show variables" id="org.eclipse.sirius.business.api.action.printVariables">
                  <parameters name="title" value="Call Message Creation"/>
                  <parameters name="enabled" value="aql:false"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.CallMessage" referenceName="messages" variableName="callMsg"/>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:callMsg">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'m' + self.eContainerOrSelf(interactions::Interaction).messages->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.Execution" referenceName="executions" variableName="newExecution">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newExecution">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'e' + self.eContainerOrSelf(interactions::Interaction).executions->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:callMsg"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'send_'+ self.message.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MixEnd" referenceName="ends" variableName="startExec">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="execution" valueExpression="var:newExecution"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:callMsg"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'start_'+self.execution.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.ExecutionEnd" referenceName="ends" variableName="endExec">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="execution" valueExpression="var:newExecution"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:callMsg">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="sendingEnd" valueExpression="var:sendingEnd"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="receivingEnd" valueExpression="var:startExec"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newExecution">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="start" valueExpression="var:startExec"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="end" valueExpression="var:endExec"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move startExec" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:startExec"/>
                  <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move sendingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:sendingEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move endExec" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:endExec"/>
                  <parameters name="predecessor" value="var:startExec"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:callMsg">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new call message position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.2/@subModelOperations.2"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newExecution">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new execution position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.0/@subModelOperations.2"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool_2:MessageCreationTool" name="Destroy" forceRefresh="true" edgeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Destroy%20Participant%20Message']" extraTargetMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:source.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool:CreateView" mapping="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='EOL']" containerViewExpression="var:targetView"/>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.DestroyParticipantMessage" referenceName="messages" variableName="newMessage"/>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $container.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.MessageEnd" referenceName="ends" variableName="receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="message" valueExpression="var:newMessage"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql: if $source.oclIsTypeOf(Participant) then $source else if  $source.oclIsTypeOf(Execution) then $source.oclAsType(Execution).owner else null endif endif"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="sendingEnd" valueExpression="var:sendingEnd"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="receivingEnd" valueExpression="var:receivingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move sendingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:sendingEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move receivingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:receivingEnd"/>
                  <parameters name="predecessor" value="aql:newMessage.sendingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newMessage">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new call message position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.2/@subModelOperations.2"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'m_destroy' + self.eContainerOrSelf(interactions::Interaction).messages->size()"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:sendingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'send_'+ self.message.name"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:receivingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'receive_' + self.message.name"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
        </toolSections>
        <toolSections name="Interaction Use">
          <ownedTools xsi:type="tool_2:InteractionUseCreationTool" name="Interaction Use" containerMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@containerMappings[name='Interaction%20Use']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Show variables" id="org.eclipse.sirius.business.api.action.printVariables">
                  <parameters name="title" value="IU creation"/>
                  <parameters name="enabled" value="aql:false"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.InteractionUse" referenceName="interactionUses" variableName="newIU">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="type" valueExpression="aql:'ref.' + self.eContainer().eContents()->filter(InteractionUse)->size()"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="interaction" valueExpression="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="coveredParticipants" valueExpression="var:coverage"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.InteractionUseEnd" referenceName="ends" variableName="startingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'start_' + instance.name"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="var:newIU"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.InteractionUseEnd" referenceName="ends" variableName="finishingEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'finish_' + instance.name"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="var:newIU"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newIU">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="start" valueExpression="var:startingEnd"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="finish" valueExpression="var:finishingEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move finishingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:finishingEnd"/>
                  <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move startingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:startingEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newIU">
                  <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust interaction use position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.3/@subModelOperations.2"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
            <coveredLifelines name="coverage"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit IU Label">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:self">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="type" valueExpression="var:arg0"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Interaction Use">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:self">
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.start">
                  <subModelOperations xsi:type="tool_1:RemoveElement"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.finish">
                  <subModelOperations xsi:type="tool_1:RemoveElement"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:RemoveElement"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Combined Fragment">
          <ownedTools xsi:type="tool_2:CombinedFragmentCreationTool" name="Combined Fragment" containerMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@containerMappings[name='Combined%20Fragment']" extraMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@containerMappings[name='Combined%20Fragment']/@subContainerMappings[name='Operand']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Show variables" id="org.eclipse.sirius.business.api.action.printVariables">
                  <parameters name="title" value="CF creation"/>
                  <parameters name="enabled" value="aql:false"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.CombinedFragment" referenceName="combinedFragments" variableName="newCF">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="operator" valueExpression="aql:'alt.' + self.eContainer().eContents()->filter(interactions::CombinedFragment)->size()"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="coveredParticipants" valueExpression="var:coverage"/>
                  <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.Operand" referenceName="ownedOperands" variableName="newOperand">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="condition1"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.CombinedFragmentEnd" referenceName="ends" variableName="startCF">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'start_' +newCF.operator"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="var:newCF"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.CombinedFragmentEnd" referenceName="ends" variableName="finishCF">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'finish_' +newCF.operator"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="var:newCF"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.OperandEnd" referenceName="ends" variableName="newOpEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'start_' + newOperand.name"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="var:newOperand"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newCF">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="start" valueExpression="var:startCF"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="finish" valueExpression="var:finishCF"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newOperand">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="start" valueExpression="var:newOpEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move finishCF" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:finishCF"/>
                  <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move newOpEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:newOpEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move startCF" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:startCF"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
            <coveredLifelines name="coverage"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Combined Fragment">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:self">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="operator" valueExpression="var:arg0"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Combined Fragment">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:element.deleteCombinedFragment()"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool_2:OperandCreationTool" name="Operand" precondition="aql:source&lt;>null  and  target&lt;>null  and  sourceView&lt;>null  and  targetView&lt;>null startingEndPredecessor &lt;>null  and  finishingEndPredecessor &lt;>null " containerMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@containerMappings[name='Combined%20Fragment']/@subContainerMappings[name='Operand']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.eContainerOrSelf(interactions::Interaction)">
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Show variables" id="org.eclipse.sirius.business.api.action.printVariables">
                  <parameters name="title" value="Operand Creation"/>
                  <parameters name="enabled" value="aql:false"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:container.eContainerOrSelf(interactions::CombinedFragment)">
                  <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.Operand" referenceName="ownedOperands" variableName="newOperand">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'condition.' + self.eContainer().ownedOperands->size()"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.OperandEnd" referenceName="ends" variableName="newOpEnd">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'start_' + newOperand.name"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="var:newOperand"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newOperand">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="start" valueExpression="var:newOpEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move operand start end" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="var:self"/>
                  <parameters name="referenceName" value="ends"/>
                  <parameters name="element" value="var:newOpEnd"/>
                  <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move operand" id="org.eclipse.sirius.business.api.action.moveElement">
                  <parameters name="referenceOwner" value="aql:newOperand.eContainer()"/>
                  <parameters name="referenceName" value="ownedOperands"/>
                  <parameters name="element" value="var:newOperand"/>
                  <parameters name="predecessor" value="aql:((newOperand.start.precedingSiblings()->reverse()->filter(interactions::OperandEnd)->asSet()->intersection(newOperand.eContainer().ownedOperands.start)->first())).owner"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <subSections name="Operands">
            <ownedTools xsi:type="tool:DirectEditLabel" name="Edit Operand">
              <mask mask="{0}"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:self">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="var:arg0"/>
                </firstModelOperations>
              </initialOperation>
            </ownedTools>
            <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete Operand">
              <element name="element"/>
              <elementView name="elementView"/>
              <containerView name="containerView"/>
              <initialOperation>
                <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:element.deleteOperand()"/>
              </initialOperation>
            </ownedTools>
          </subSections>
        </toolSections>
        <toolSections name="States">
          <ownedTools xsi:type="tool_2:StateCreationTool" name="State" nodeMappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='State']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:self">
                <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Show variables" id="org.eclipse.sirius.business.api.action.printVariables">
                  <parameters name="title" value="Execution creation"/>
                  <parameters name="enabled" value="aql:false"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.eContainerOrSelf(interactions::Interaction)">
                  <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.State" referenceName="states" variableName="newState">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="owner" valueExpression="aql: if $container.oclIsTypeOf(Participant) then $container else if  $container.oclIsTypeOf(Execution) then $container.oclAsType(Execution).owner else null endif endif"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.StateEnd" referenceName="ends" variableName="startingEnd">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="state" valueExpression="var:newState"/>
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql:newState.owner"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:CreateInstance" typeName="interactions.StateEnd" referenceName="ends" variableName="finishingEnd">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="state" valueExpression="var:newState"/>
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="context" valueExpression="aql:newState.owner"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newState">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="start" valueExpression="var:startingEnd"/>
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="end" valueExpression="var:finishingEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move finishingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="var:self"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="var:finishingEnd"/>
                    <parameters name="predecessor" value="aql:finishingEndPredecessor.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move startingEnd" icon="" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="var:self"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="var:startingEnd"/>
                    <parameters name="predecessor" value="aql:startingEndPredecessor.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:newState">
                    <subModelOperations xsi:type="tool_1:ExternalJavaActionCall" name="Adjust new state position" action="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@toolSections.6/@ownedTools[name='Reorder%20Executions%2C%20States%20Messages%2C%20InteractionUses']/@onEventMovedOperation/@firstModelOperations/@subModelOperations.1/@subModelOperations.2"/>
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="'s' + self.eContainerOrSelf(interactions::Interaction).states->size()"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:startingEnd">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'start_' +  self.state.name"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:finishingEnd">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="aql:'finish_' +  self.state.name"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
            <startingEndPredecessor name="startingEndPredecessor"/>
            <finishingEndPredecessor name="finishingEndPredecessor"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Edit State">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="var:arg0"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Delete State">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:element">
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.start">
                  <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:not self.oclIsKindOf(interactions::MixEnd) or (self.oclIsKindOf(interactions::MixEnd) and self.message = null)">
                    <subModelOperations xsi:type="tool_1:RemoveElement"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="aql:self.end">
                  <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:not self.oclIsKindOf(interactions::MixEnd) or (self.oclIsKindOf(interactions::MixEnd) and self.message = null)">
                    <subModelOperations xsi:type="tool_1:RemoveElement"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:RemoveElement"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Reorder Tool">
          <ownedTools xsi:type="tool_2:ReorderTool" name="Reorder Executions, States Messages, InteractionUses" mappings="//@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='Execution'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@nodeMappings[name='Participant']/@borderedNodeMappings[name='Lifeline']/@borderedNodeMappings[name='State'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Call%20Message'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@containerMappings[name='Combined%20Fragment'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@containerMappings[name='Combined%20Fragment']/@subContainerMappings[name='Operand'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Create%20Participant%20Message'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Destroy%20Participant%20Message'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Feature%20Access%20Message'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@containerMappings[name='Interaction%20Use'] //@ownedViewpoints[name='Interactions']/@ownedRepresentations[name='Sequence%20Diagram%20Example%20with%20Combined%20Fragments%20Support']/@defaultLayer/@edgeMappings[name='Return%20Message']">
            <startingEndPredecessorAfter name="startingEndPredecessorAfter"/>
            <finishingEndPredecessorAfter name="finishingEndPredecessorAfter"/>
            <onEventMovedOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="var:self">
                <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:self.oclIsKindOf(Execution)">
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move start end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.start"/>
                    <parameters name="predecessor" value="aql:startingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move finish end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.end"/>
                    <parameters name="predecessor" value="aql:finishingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Adjust execution position 2" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="executions"/>
                    <parameters name="element" value="var:self"/>
                    <parameters name="predecessor" value="aql:self.start.precedingSiblings()->filter(interactions::ExecutionEnd)->select(current | current.execution.start = current)->last().execution"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:self.oclIsKindOf(State)">
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move start end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.start"/>
                    <parameters name="predecessor" value="aql:startingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move finish end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.end"/>
                    <parameters name="predecessor" value="aql:finishingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Adjust state position" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="states"/>
                    <parameters name="element" value="var:self"/>
                    <parameters name="predecessor" value="aql:self.start.precedingSiblings()->filter(interactions::StateEnd)->select(current | current.state.start = current)->last().state"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:self.oclIsKindOf(Message)">
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move sending end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.sendingEnd"/>
                    <parameters name="predecessor" value="aql:startingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move receiving end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.receivingEnd"/>
                    <parameters name="predecessor" value="aql:finishingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Adjust message position 2" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="messages"/>
                    <parameters name="element" value="var:self"/>
                    <parameters name="predecessor" value="aql:self.sendingEnd.precedingSiblings()->filter(interactions::MessageEnd)->select(current | current.message.receivingEnd = current)->last().message"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:self.oclIsKindOf(InteractionUse)">
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move start end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.start"/>
                    <parameters name="predecessor" value="aql:startingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move finish end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.finish"/>
                    <parameters name="predecessor" value="aql:finishingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Adjust Interaction Use position" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="interactionUses"/>
                    <parameters name="element" value="var:self"/>
                    <parameters name="predecessor" value="aql:self.start.precedingSiblings()->filter(interactions::InteractionUseEnd)->select(current| current.owner.start = current)->last().owner"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:self.oclIsKindOf(CombinedFragment)">
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move start end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.start"/>
                    <parameters name="predecessor" value="aql:startingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move finish end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.finish"/>
                    <parameters name="predecessor" value="aql:finishingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Adjust CombinedFragment position" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="combinedFragments"/>
                    <parameters name="element" value="var:self"/>
                    <parameters name="predecessor" value="aql:self.start.precedingSiblings()->filter(interactions::CombinedFragmentEnd)->select(current | current.owner.start = current)->last().owner"/>
                  </subModelOperations>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:If" conditionExpression="aql:self.oclIsKindOf(Operand)">
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Move start end" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainerOrSelf(interactions::Interaction)"/>
                    <parameters name="referenceName" value="ends"/>
                    <parameters name="element" value="aql:self.start"/>
                    <parameters name="predecessor" value="aql:startingEndPredecessorAfter.semanticEnd"/>
                  </subModelOperations>
                  <subModelOperations xsi:type="tool_1:ExternalJavaAction" name="Adjust Operand position" id="org.eclipse.sirius.business.api.action.moveElement">
                    <parameters name="referenceOwner" value="aql:self.eContainer(CombinedFragment)"/>
                    <parameters name="referenceName" value="ownedOperands"/>
                    <parameters name="element" value="var:self"/>
                    <parameters name="predecessor" value="aql:self.start.precedingSiblings()->filter(interactions::OperandEnd)->select(op | op.owner.start = op and self.eContainerOrSelf(interactions::CombinedFragment) = op.owner.eContainerOrSelf(interactions::CombinedFragment))->last().owner)"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </onEventMovedOperation>
          </ownedTools>
        </toolSections>
      </defaultLayer>
    </ownedRepresentations>
  </ownedViewpoints>
  <userColorsPalettes name="Skyblue">
    <entries xsi:type="description:UserFixedColor" red="16" green="127" blue="201" name="High_Skyblue"/>
    <entries xsi:type="description:UserFixedColor" red="14" green="78" blue="173" name="Afternoon_Skyblue"/>
    <entries xsi:type="description:UserFixedColor" red="11" green="16" blue="140" name="Evening_Skyblue"/>
    <entries xsi:type="description:UserFixedColor" red="12" green="15" blue="102" name="Moonview_Skyblue"/>
    <entries xsi:type="description:UserFixedColor" red="4" green="14" blue="61" name="Midnight_Skyblue"/>
  </userColorsPalettes>
  <userColorsPalettes name="Dutch Seas">
    <entries xsi:type="description:UserFixedColor" red="22" green="147" blue="165" name="Dutch teal"/>
    <entries xsi:type="description:UserFixedColor" red="69" green="181" blue="196" name="Lavonne"/>
    <entries xsi:type="description:UserFixedColor" red="126" green="206" blue="202" name="Seabluff"/>
    <entries xsi:type="description:UserFixedColor" red="160" green="222" blue="214" name="Paleolitico"/>
    <entries xsi:type="description:UserFixedColor" red="199" green="237" blue="232" name="Glint on the ocean"/>
    <entries xsi:type="description:InterpolatedColor" name="Interpolated blue for Executions" colorValueComputationExpression="aql:self.computeExecutionDepth()">
      <colorSteps associatedValue="0" associatedColor="//@userColorsPalettes[name='Dutch%20Seas']/@entries[name='Glint%20on%20the%20ocean']"/>
      <colorSteps associatedValue="10" associatedColor="//@userColorsPalettes[name='Dutch%20Seas']/@entries[name='Dutch%20teal']"/>
    </entries>
  </userColorsPalettes>
  <userColorsPalettes name="Greens">
    <entries xsi:type="description:UserFixedColor" red="160" green="212" blue="164" name="Irish Sea"/>
    <entries xsi:type="description:UserFixedColor" red="166" green="227" blue="187" name="Watery Green"/>
    <entries xsi:type="description:UserFixedColor" red="186" green="250" blue="158" name="Gentler Spring"/>
    <entries xsi:type="description:UserFixedColor" red="16" green="120" blue="103" name="Flabber Green"/>
    <entries xsi:type="description:InterpolatedColor" name="Interpolated green for Combined Fragments" colorValueComputationExpression="aql:self.computeCombinedFragmentDepth()">
      <colorSteps associatedValue="0" associatedColor="//@userColorsPalettes[name='Greens']/@entries[name='Watery%20Green']"/>
      <colorSteps associatedValue="5" associatedColor="//@userColorsPalettes[name='Greens']/@entries[name='Flabber%20Green']"/>
    </entries>
  </userColorsPalettes>
</description:Group>
