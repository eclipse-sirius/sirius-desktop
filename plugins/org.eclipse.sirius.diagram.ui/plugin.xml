<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<!--
  Copyright (c) 2014, 2019 THALES GLOBAL SERVICES
  This program and the accompanying materials
  are made available under the terms of the Eclipse Public License 2.0
  which accompanies this distribution, and is available at
  https://www.eclipse.org/legal/epl-2.0/

  SPDX-License-Identifier: EPL-2.0

  Contributors:
       Obeo - Initial API and implementation
       Felix Dorner <felix.dorner@gmail.com> - Bug 533002, 540056
-->

<plugin>
   <extension-point id="styleConfigurationProvider" name="%extension-point.styleConfigurationProvider..name" schema="schema/styleConfigurationProvider.exsd"/>
   <extension-point id="viewOrderingProvider" name="%extension-point.viewOrderingProvider.name" schema="schema/viewOrderingProvider.exsd"/>
   <extension-point id="diagramIdentifierProvider" name="%extension-point.diagramIdentifierProvider.name" schema="schema/diagramIdentifierProvider.exsd"/>
   <extension-point id="layoutProvider" name="%extension-point.layoutProvider.name" schema="schema/layoutProvider.exsd"/>
   <extension-point id="formatDataManager" name="%extension-point.formatDataManager.name" schema="schema/formatDataManager.exsd"/>
   <extension-point id="imageSelector" name="%extension-point.imageSelector.name" schema="schema/imageSelector.exsd"/>
   <extension-point id="tabbarContributor" name="%extension-point.tabbarContributor.name" schema="schema/tabbarContributor.exsd"/>
   <extension-point id="customLayoutAlgorithmProvider" name="%extension-point.customLayoutAlgorithmProvider.name" schema="schema/customLayoutAlgorithmProvider.exsd"/>

   <extension point="org.eclipse.ui.elementFactories">
     <factory
         class="org.eclipse.sirius.ui.business.api.session.SessionEditorInputFactory"
         id="org.eclipse.sirius.ui.business.api.session.SessionEditorInputFactory"/>
  </extension>

   <extension point="org.eclipse.ui.editors">
      <?gmfgen generated="true"?>
      <editor
         id="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID"
         name="%editorName"
         icon="icons/DDiagram.gif"
         extensions="ddiagram"
         default="true"
         class="org.eclipse.sirius.diagram.ui.tools.internal.editor.DDiagramEditorImpl"
         matchingStrategy="org.eclipse.sirius.diagram.ui.part.SiriusMatchingStrategy"
         contributorClass="org.eclipse.sirius.diagram.ui.part.SiriusDiagramActionBarContributor">
      </editor>
   </extension>

   <extension point="org.eclipse.ui.contexts">
      <?gmfgen generated="true"?>
      <context
         description="%context.description"
         id="org.eclipse.sirius.diagram.ui.diagramContext"
         name="%context.name"
         parentId="org.eclipse.gmf.runtime.diagram.ui.diagramContext">
      </context>
   </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.action.globalActionHandlerProviders">
      <?gmfgen generated="true"?>
      <GlobalActionHandlerProvider
         class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramGlobalActionHandlerProvider"
         id="SiriusPresentation">
         <Priority name="Lowest"/>
         <ViewId id="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="delete"/>
            </ElementType>
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.DiagramEditPart">
               <GlobalActionId actionId="save"/>
            </ElementType>
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
              <GlobalActionId actionId="save">
              </GlobalActionId>
           </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
      <GlobalActionHandlerProvider
         class="org.eclipse.sirius.diagram.ui.tools.internal.print.SiriusDiagramWithPrintGlobalActionHandlerProvider"
         id="SiriusPresentationPrint">
         <Priority name="Lowest"/>
         <ViewId id="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="print"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
      <GlobalActionHandlerProvider
         class="org.eclipse.gmf.runtime.diagram.ui.providers.ide.providers.DiagramIDEGlobalActionHandlerProvider"
         id="SiriusPresentationIDE">
         <Priority name="Lowest"/>
         <ViewId id="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="bookmark"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
      <GlobalActionHandlerProvider
            class="org.eclipse.sirius.diagram.ui.tools.internal.clipboard.SiriusClipboardGlobalActionHandlerProvider"
            id="SiriusRender">
         <Priority name="High"/>
         <ViewId id="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="cut"/>
               <GlobalActionId actionId="copy"/>
               <GlobalActionId actionId="paste"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
      <GlobalActionHandlerProvider
            class="org.eclipse.sirius.diagram.ui.tools.internal.delete.SiriusDeleteGlobalActionHandlerProvider"
            id="SiriusDelete">
         <Priority name="High"/>
         <ViewId id="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="delete"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
   </extension>

    <extension id="actionFilterProviders" name="%ext.actionFilterProviders" point="org.eclipse.gmf.runtime.common.ui.services.action.actionFilterProviders">
         <ActionFilterProvider class="org.eclipse.sirius.diagram.ui.tools.internal.menu.SiriusActionFilterProvider">
            <Priority name="Highest"/>
            <Attribute name="canDuplicate" value="enablement"/>
            <Attribute name="canDuplicate" value="visibility"/>
         </ActionFilterProvider>
      </extension>


   <extension point="org.eclipse.gmf.runtime.common.ui.services.action.contributionItemProviders">
      <?gmfgen generated="false"?>
     <contributionItemProvider class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContributionItemProvider" checkPluginLoaded="false">
        <Priority name="Low">
        </Priority>
     </contributionItemProvider>
      <?gmfgen generated="true"?>
      <contributionItemProvider class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusContributionItemProvider">
         <Priority name="Low" />
         <partContribution id="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID">
           <partMenuGroup menubarPath="/edit/" id="copyFormatGroup" separator="true" />
           <partAction menubarPath="/edit/copyFormatGroup" id="copyFormatAction" />
           <partAction menubarPath="/edit/copyFormatGroup" id="pasteFormatAction" />
           <partAction menubarPath="/edit/copyFormatGroup" id="pasteLayoutAction" />
           <partAction menubarPath="/edit/copyFormatGroup" id="pasteStyleAction" />
           <partAction menubarPath="/diagramMenu/arrangeMenu/arrangeGroup" id="arrangeBorderNodesAction"/>
           <partAction menubarPath="/diagramMenu/routerMenu/routerGroup" id="treeRoutingStyleAction"/>
           <partAction menubarPath="/diagramMenu/routerMenu/routerGroup" id="obliqueRoutingStyleAction"/>
           <partAction menubarPath="/diagramMenu/routerMenu/routerGroup" id="rectilinearRoutingStyleAction"/>
           <partAction toolbarPath="/arrangeMenu/arrangeGroup" id="arrangeBorderNodesActionToolBar"/>
           <!-- Add the DeselectAll action after selectAll action-->
           <partAction menubarPath="/edit/selectAll" id="deselectAll"/>
           <!-- Add distribute action in new group -->
           <partMenu menubarPath="/diagramMenu/alignMenu" id="distributeMenu"/>
           <partMenuGroup menubarPath="/diagramMenu/distributeMenu/" id="distributeHorizontalGroup"/>
           <partMenuGroup menubarPath="/diagramMenu/distributeMenu/" id="distributeVerticalGroup"/>
           <partAction menubarPath="/diagramMenu/distributeMenu/distributeHorizontalGroup" id="distributeGapsHorizontally"/>
           <partAction menubarPath="/diagramMenu/distributeMenu/distributeHorizontalGroup" id="distributeCentersHorizontally"/>
           <partAction menubarPath="/diagramMenu/distributeMenu/distributeVerticalGroup" id="distributeGapsVertically"/>
           <partAction menubarPath="/diagramMenu/distributeMenu/distributeVerticalGroup" id="distributeCentersVertically"/>
           <partAction
                 id="makeSameSizeBothAction"
                 menubarPath="/diagramMenu/sizeGroup"
                 toolbarPath="/toolbarFormatGroup">
           </partAction>
           <partAction
                 id="siriusAutoSizeAction"
                 menubarPath="/diagramMenu/sizeGroup"
                 toolbarPath="/toolbarFormatGroup">
           </partAction>
           <partAction
                 global="false"
                 id="siriusCopyAppearancePropertiesAction"
                 menubarPath="/diagramMenu/copyAppearanceGroup"
                 toolbarPath="/toolbarCopyAppearanceGroup">
           </partAction>
         </partContribution>

         <popupContribution
               class="org.eclipse.sirius.diagram.ui.tools.internal.menu.DiagramEditorContextMenuProvider"
               id="specificContributionsForEdgeSelection">
            <popupStructuredContributionCriteria
                  policyClass="org.eclipse.sirius.diagram.ui.tools.internal.menu.MultiSelectionEdgePolicy">
            </popupStructuredContributionCriteria>
            <!-- Snapback Labels contributions -->
            <popupMenu path="/filterFormatGroup" id="formatMenu"/>
            <popupMenuGroup path="/formatMenu/" id="miscellaneousGroup"/>
            <popupAction path="/formatMenu/miscellaneousGroup" id="edgeSnapBackAction"/>
            <!-- Straighten To contributions -->
            <popupMenuGroup path="/formatMenu/arrangeMenu/" id="straightenToGroup" />
            <popupMenu path="/formatMenu/arrangeMenu/straightenToGroup" id="straightenToMenu"/>
            <popupMenuGroup path="/formatMenu/arrangeMenu/straightenToMenu/" id="straightenToHorizontalGroup"/>
            <popupMenuGroup path="/formatMenu/arrangeMenu/straightenToMenu/" id="straightenToVerticalGroup"/>
            <popupAction path="/formatMenu/arrangeMenu/straightenToMenu/straightenToHorizontalGroup" id="straightenToTop" />
            <popupAction path="/formatMenu/arrangeMenu/straightenToMenu/straightenToHorizontalGroup" id="straightenToBottom"/>
            <popupAction path="/formatMenu/arrangeMenu/straightenToMenu/straightenToVerticalGroup" id="straightenToLeft"/>
            <popupAction path="/formatMenu/arrangeMenu/straightenToMenu/straightenToVerticalGroup" id="straightenToRight"/>
            <popupAction path="/formatMenu/arrangeMenu/straightenToMenu/straightenToVerticalGroup" id="straightenToTopSidePinned" />
            <popupAction path="/formatMenu/arrangeMenu/straightenToMenu/straightenToVerticalGroup" id="straightenToBottomSidePinned"/>
            <popupAction path="/formatMenu/arrangeMenu/straightenToMenu/straightenToHorizontalGroup" id="straightenToLeftSidePinned"/>
            <popupAction path="/formatMenu/arrangeMenu/straightenToMenu/straightenToHorizontalGroup" id="straightenToRightSidePinned"/>
            <!-- Line Style contributions (replace removed GMF contributions) -->
            <popupMenuGroup path="/formatMenu/" id="fontFillLineGroup"/>
            <popupMenu path="/formatMenu/fontFillLineGroup" id="routerMenu"/>
            <popupMenuGroup path="/formatMenu/routerMenu/" id="routerGroup"/>
            <popupAction path="/formatMenu/routerMenu/routerGroup" id="treeRoutingStyleAction"/>
            <popupAction path="/formatMenu/routerMenu/routerGroup" id="obliqueRoutingStyleAction"/>
            <popupAction path="/formatMenu/routerMenu/routerGroup" id="rectilinearRoutingStyleAction"/>
         </popupContribution>
         <popupContribution class="org.eclipse.sirius.diagram.ui.tools.internal.menu.DiagramEditorContextMenuProvider">
            <popupStructuredContributionCriteria objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.ISiriusEditPart" />
            <popupMenuGroup path="/editMenu/" id="copyFormatGroup" separator="true"/>
            <popupAction path="/editMenu/copyFormatGroup" id="copyFormatAction" />
            <popupAction path="/editMenu/copyFormatGroup" id="pasteFormatAction" />
            <popupAction path="/editMenu/copyFormatGroup" id="pasteLayoutAction" />
            <popupAction path="/editMenu/copyFormatGroup" id="pasteStyleAction" />

            <popupMenuGroup path="/formatMenu/arrangeMenu/" id="pinGroup" />
            <popupAction path="/formatMenu/arrangeMenu/pinGroup" id="pinElementsAction" />
            <popupAction path="/formatMenu/arrangeMenu/pinGroup" id="unpinElementsAction" />
            <popupAction path="/formatMenu/arrangeMenu/arrangeGroup" id="arrangeBorderNodesAction"/>
            <!-- Add distribute action in new distribute group -->
            <popupMenu path="/formatMenu/alignMenu" id="distributeMenu"/>
            <popupMenuGroup path="/formatMenu/distributeMenu/" id="distributeHorizontalGroup"/>
            <popupMenuGroup path="/formatMenu/distributeMenu/" id="distributeVerticalGroup"/>
            <popupAction path="/formatMenu/distributeMenu/distributeHorizontalGroup" id="distributeGapsHorizontally" />
            <popupAction path="/formatMenu/distributeMenu/distributeHorizontalGroup" id="distributeCentersHorizontally"/>
            <popupAction path="/formatMenu/distributeMenu/distributeVerticalGroup" id="distributeGapsVertically"/>
            <popupAction path="/formatMenu/distributeMenu/distributeVerticalGroup" id="distributeCentersVertically"/>
            <popupAction
                  id="makeSameSizeBothAction"
                  path="/formatMenu/sizeGroup">
            </popupAction>
            <popupAction
                  id="siriusAutoSizeAction"
                  path="/formatMenu/sizeGroup">
            </popupAction>
            <popupAction
                  id="siriusCopyAppearancePropertiesAction"
                  path="/formatMenu/applyAppearanceGroup">
            </popupAction>
         </popupContribution>
         <popupContribution
               class="org.eclipse.sirius.diagram.ui.tools.internal.menu.DiagramEditorContextMenuProvider">
            <popupStructuredContributionCriteria
                  objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
            </popupStructuredContributionCriteria>
            <popupAction
                  id="newCopyToImageAction"
                  path="/additions">
            </popupAction>
            <popupAction
                  id="selectHiddenElementsAction" path="/additions"/>
         </popupContribution>
         <popupContribution
               class="org.eclipse.sirius.diagram.ui.tools.internal.menu.DiagramEditorContextMenuProvider"
               id="SiriusDeleteFromDiagramContribution">
            <popupStructuredContributionCriteria
                  objectClass="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart"
                  policyClass="org.eclipse.sirius.diagram.ui.tools.internal.menu.SiriusPopupMenuContributionPolicy">
            </popupStructuredContributionCriteria>
            <popupMenuGroup
                  id="deleteFromGroup"
                  path="/editMenu/"
                  separator="true">
            </popupMenuGroup>
         </popupContribution>
      </contributionItemProvider>



      <contributionItemProvider
            class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContributionItemProvider"
            checkPluginLoaded="false">
         <Priority name="Low"/>
         <popupContribution class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContextMenuProvider">
            <popupStructuredContributionCriteria objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.AbstractDiagramNameEditPart">
            </popupStructuredContributionCriteria>
            <popupMenuGroup path="/formatMenu/" id="fontFillLineGroup">
            </popupMenuGroup>
            <popupAction path="/formatMenu/fontFillLineGroup" id="fontDialogAction">
            </popupAction>    
          </popupContribution>             
       </contributionItemProvider>
       
       <contributionItemProvider
            class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContributionItemProvider"
            checkPluginLoaded="false">
         <Priority name="Low"/>
         <popupContribution class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContextMenuProvider">
            <popupStructuredContributionCriteria   policyClass="org.eclipse.sirius.diagram.ui.tools.internal.menu.MultiSelectionEdgePolicy">
            </popupStructuredContributionCriteria>
             <popupMenu path="/filterFormatGroup" id="formatMenu">
            </popupMenu>
            <popupMenuGroup path="/formatMenu/" id="miscellaneousGroup">
            </popupMenuGroup>
            <popupMenu path="/formatMenu/miscellaneousGroup" id="arrangeMenu">
            </popupMenu>    
            <popupMenuGroup path="/formatMenu/arrangeMenu/" id="arrangeGroup">
            </popupMenuGroup>  
          </popupContribution>             
       </contributionItemProvider>
       

      <contributionItemProvider
            class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusContributionItemProvider"
            checkPluginLoaded="false">
         <Priority name="Lowest"/>
         <popupContribution class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContextMenuProvider">
            <popupStructuredContributionCriteria objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
            </popupStructuredContributionCriteria>
            <popupStructuredContributionCriteria objectClass="org.eclipse.sirius.diagram.ui.internal.edit.parts.AbstractDNodeContainerCompartmentEditPart">
            </popupStructuredContributionCriteria>
            <!-- added popup menu declaration here for display ordering purposes (see plugin.xml of org.eclipse.gmf.runtime.diagram.ui.providers -->
            <popupMenuGroup id="umlAddGroup">
            </popupMenuGroup>
            <popupMenuGroup id="addGroup">
            </popupMenuGroup>
            <popupMenuGroup id="navigateGroup">
            </popupMenuGroup>
            <popupMenuGroup id="fileGroup">
            </popupMenuGroup>
            <popupMenuGroup id="editGroup">
            </popupMenuGroup>
            <popupMenuGroup id="findGroup">
            </popupMenuGroup>
            <popupMenuGroup id="filterFormatGroup">
            </popupMenuGroup>
         </popupContribution>
      </contributionItemProvider>
      <!-- Remove the geoshape add menus -->
    <contributionItemProvider
            checkPluginLoaded="false"
            class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContributionItemProvider">
          <Priority name="Highest"/>
      <popupContribution
        class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContextMenuProvider">
         <popupStructuredContributionCriteria
               objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart"/>
              <popupPredefinedItem
          id="addLineAction"
          path="/diagramAddMenu/addGeoShapesGroup"
          remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addOvalAction"
                    path="/diagramAddMenu/addGeoShapesGroup"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addTriangleAction"
                    path="/diagramAddMenu/addGeoShapesGroup"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addRectangleAction"
                    path="/diagramAddMenu/addGeoShapesGroup"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addHexagonAction"
                    path="/diagramAddMenu/addGeoShapesGroup"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addOctagonAction"
                    path="/diagramAddMenu/addGeoShapesGroup"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addPentagonAction"
                    path="/diagramAddMenu/addGeoShapesGroup"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addDiamondAction"
                    path="/diagramAddMenu/addGeoShapesGroup"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addPolygonAction"
                    path="/diagramAddMenu/addGeoShapesGroup"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addShadowRectangleAction"
                    path="/diagramAddMenu/addGeoShapes2Group"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="add3DRectangleAction"
                    path="/diagramAddMenu/addGeoShapes2Group"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addRoundRectangleAction"
                    path="/diagramAddMenu/addGeoShapes2Group"
                    remove="true">
              </popupPredefinedItem>
              <popupPredefinedItem
                    id="addCylinderAction"
                    path="/diagramAddMenu/addGeoShapes2Group"
                    remove="true">
              </popupPredefinedItem>
          </popupContribution>
    </contributionItemProvider>
  <contributionItemProvider
        class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusContributionItemProvider">
     <Priority
           name="Low">
     </Priority>
     <popupContribution
           class="org.eclipse.sirius.diagram.ui.tools.internal.menu.DiagramEditorContextMenuProvider">
        <popupStructuredContributionCriteria
              objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
        </popupStructuredContributionCriteria>
        <popupAction
              id="arrangeBorderNodesAction">
        </popupAction>
     </popupContribution>
  </contributionItemProvider>
  <?gmfgen generated="true"?>
  <contributionItemProvider
        class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusValidationProvider">
     <Priority name="Low"/>
        <partContribution id="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID">
        <partMenuGroup menubarPath="/diagramMenu/" id="validationGroup"/>
        <partAction id="validateAction" menubarPath="/diagramMenu/validationGroup"/>
     </partContribution>
  </contributionItemProvider>
  <?gmfgen generated="false"?>
  <contributionItemProvider
        checkPluginLoaded="false"
        class="org.eclipse.sirius.diagram.ui.tools.internal.menu.PopupMenuContribution">
     <Priority name="Highest"/>
  </contributionItemProvider>
  <contributionItemProvider
        checkPluginLoaded="false"
        class="org.eclipse.sirius.diagram.ui.tools.internal.menu.SubDiagramMenu">
     <Priority name="Highest"/>
  </contributionItemProvider>
  <contributionItemProvider
        checkPluginLoaded="false"
        class="org.eclipse.sirius.diagram.ui.tools.internal.menu.SpecificationMenuContribution">
     <Priority name="High"/>
  </contributionItemProvider>
  <contributionItemProvider
        checkPluginLoaded="false"
        class="org.eclipse.sirius.diagram.ui.tools.internal.menu.OpenMenuContribution">
     <Priority name="High"/>
  </contributionItemProvider>
  <contributionItemProvider
        checkPluginLoaded="false"
        class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContributionItemProvider">
     <Priority
           name="High">
     </Priority>
     <partContribution
           class="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditor">
        <partPredefinedItem
              id="treeRouterAction"
              menubarPath="/diagramMenu/routerMenu/routerGroup"
              removeFromMenubar="true"
              removeFromToolbar="false">
        </partPredefinedItem>
        <partPredefinedItem
              id="obliqueRouterAction"
              menubarPath="/diagramMenu/routerMenu/routerGroup"
              removeFromMenubar="true"
              removeFromToolbar="false">
        </partPredefinedItem>
        <partPredefinedItem
              id="rectilinearRouterAction"
              menubarPath="/diagramMenu/routerMenu/routerGroup"
              removeFromMenubar="true"
              removeFromToolbar="false">
        </partPredefinedItem>
     </partContribution>
     <popupContribution
           class="org.eclipse.sirius.diagram.ui.tools.internal.menu.DiagramEditorContextMenuProvider">
        <popupStructuredContributionCriteria
              objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
        </popupStructuredContributionCriteria>
        <popupMenu
              id="arrangeMenu"
              path="/filterFormatGroup">
        </popupMenu>
        <popupMenuGroup
              id="myArrangeGroup"
              path="/arrangeMenu/">
        </popupMenuGroup>
        <popupAction
              id="toolbarArrangeAllAction"
              path="/arrangeMenu/myArrangeGroup">
        </popupAction>
     </popupContribution>
     <popupContribution
           class="org.eclipse.sirius.diagram.ui.tools.internal.menu.DiagramEditorContextMenuProvider">
        <popupStructuredContributionCriteria
              objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.ISiriusEditPart"
              policyClass="org.eclipse.sirius.diagram.ui.tools.internal.menu.SiriusPopupMenuContributionPolicy">
        </popupStructuredContributionCriteria>
        <popupPredefinedItem
              id="deleteFromDiagramAction"
              remove="true">
        </popupPredefinedItem>
     </popupContribution>
     <popupContribution
           class="org.eclipse.sirius.diagram.ui.tools.internal.menu.DiagramEditorContextMenuProvider">
        <popupStructuredContributionCriteria
              objectClass="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart"
              policyClass="org.eclipse.sirius.diagram.ui.tools.internal.menu.SiriusPopupMenuContributionPolicy">
        </popupStructuredContributionCriteria>
        <popupPredefinedItem
              id="CopyToImageAction"
              path="/fileMenu/saveGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="compartmentMenu"
              path="/filtersMenu/expandFilterGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="allCompartmentsGroup"
              path="/filtersMenu/compartmentMenu/"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="filtersMenu"
              path="/filterFormatGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="addNoteLinkAction"
              path="/addGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="allCompartmentsAction"
              path="/filtersMenu/compartmentMenu/allCompartmentsGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="noCompartmentsAction"
              path="/filtersMenu/compartmentMenu/allCompartmentsGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="undo"
              path="/editMenu/undoGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="redo"
              path="/editMenu/undoGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="addNoteAction"
              path="/diagramAddmenu/addDiagramGeneralGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="addTextAction"
              path="/diagramAddmenu/addDiagramGeneralGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="diagramAddMenu"
              path="/addGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="print"
              path="/fileMenu/printGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="connectorLabelMenu"
              path="/filtersMenu/expandFilterGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="allConnectorLabelsGroup"
              path="/filtersMenu/connectorLabelMenu/"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="showConnectorLabels"
              path="/filtersMenu/connectorLabelMenu/allConnectorLabelsGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="hideConnectorLabels"
              path="/filtersMenu/connectorLabelMenu/allConnectorLabelsGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="viewMenu"
              path="/viewGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="showCompartmentTitle"
              path="/filtersMenu/miscellaneousGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="zoomContributionItem"
              path="/viewMenu"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="undoGroup"
              path="/editMenu/"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="propertiesGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="toolbarArrangeAllAction"
              path="/filterFormatGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="treeRouterAction"
              path="/formatMenu/routerMenu/routerGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="obliqueRouterAction"
              path="/formatMenu/routerMenu/routerGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="rectilinearRouterAction"
              path="/formatMenu/routerMenu/routerGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="autoSizeAction"
              path="/formatMenu/sizeGroup"
              remove="true">
        </popupPredefinedItem>
        <popupPredefinedItem
              id="copyAppearancePropertiesAction"
              path="/formatMenu/applyAppearanceGroup"
              remove="true">
        </popupPredefinedItem>
     </popupContribution>
  </contributionItemProvider>
  </extension>

   <extension point="org.eclipse.core.runtime.preferences">
      <?gmfgen generated="true"?>
      <initializer class="org.eclipse.sirius.diagram.ui.internal.preferences.DiagramUIPreferenceInitializer"/>
   </extension>


   <extension point="org.eclipse.ui.views.properties.tabbed.propertyContributor">
      <?gmfgen generated="false"?>
      <propertyContributor
            contributorId="org.eclipse.sirius.diagram.ui"
            labelProvider="org.eclipse.sirius.diagram.ui.internal.sheet.SiriusSheetLabelProvider">
         <propertyCategory
               category="semantic &amp; extension">
         </propertyCategory>
         <propertyCategory
               category="semantic">
         </propertyCategory>
         <propertyCategory
               category="extension">
         </propertyCategory>
         <propertyCategory
               category="behaviors">
         </propertyCategory>
         <propertyCategory
               category="documentation">
         </propertyCategory>
         <!--
         <propertyCategory category="validation"/>
         -->
         <propertyCategory
               category="style">
         </propertyCategory>
         <propertyCategory category="visual"/>
         <propertyCategory category="domain"/>
         <propertyCategory category="extra"/>
         <propertyCategory
               category="misc">
         </propertyCategory>
      </propertyContributor>
   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertyTabs">
      <?gmfgen generated="false"?>
      <propertyTabs contributorId="org.eclipse.sirius.diagram.ui">
          <propertyTab
                category="semantic &amp; extension"
                id="property.tab.semantic.extension"
                label="%tab.semantic.extension">
          </propertyTab>
          <propertyTab
                category="style"
                id="property.tab.style"
                label="%tab.style">
          </propertyTab>
          <propertyTab
                category="semantic"
                id="property.tab.semantic"
                label="%tab.semantic">
          </propertyTab>
          <propertyTab
                category="extension"
                id="property.tab.extension"
                label="%tab.extension">
          </propertyTab>
          <propertyTab
                category="behaviors"
                id="property.tab.behaviors"
                label="%tab.behaviors">
          </propertyTab>
          <propertyTab
                category="documentation"
                id="property.tab.documentation"
                label="%tab.documentation">
          </propertyTab>
          <!--
          Let's activate the tab once we are sure everything is working fine
         <propertyTab
                afterTab="filters"
                category="validation"
                id="property.tab.validation"
                label="%tab.validation">
          </propertyTab>
          -->
         <propertyTab
               category="visual"
               id="property.tab.AppearancePropertySection"
               label="%tab.appearance"/>
          <propertyTab
             category="visual"
             id="property.tab.DiagramPropertySection"
             label="%tab.diagram"/>
             <!--
          <propertyTab
             category="domain"
             id="property.tab.domain"
             label="%tab.domain"/>

          <propertyTab
                category="misc"
                id="property.tab.misc"
                label="%tab.misc">
          </propertyTab>
          -->
      </propertyTabs>
   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertySections">
      <?gmfgen generated="false"?>
      <propertySections contributorId="org.eclipse.sirius.diagram.ui">
         <propertySection id="property.section.ConnectorAppearancePropertySection"
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.ConnectionEditPartPropertySectionFilter"
            class="org.eclipse.sirius.diagram.ui.tools.internal.properties.DiagramConnectionAppearancePropertySection"
            tab="property.tab.AppearancePropertySection">
         </propertySection>
         <propertySection id="property.section.ShapeColorAndFontPropertySection"
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.ShapeEditPartPropertySectionFilter"
            class="org.eclipse.sirius.diagram.ui.tools.internal.properties.DiagramShapeColorAndFontPropertySection"
            tab="property.tab.AppearancePropertySection">
         </propertySection>
         <propertySection id="property.section.DiagramColorsAndFontsPropertySection"
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.DiagramEditPartPropertySectionFilter"
            class="org.eclipse.sirius.diagram.ui.tools.internal.properties.DiagramColorAndFontPropertySection"
            tab="property.tab.AppearancePropertySection">
         </propertySection>
         <propertySection id="property.section.DNodeListElementColorsAndFontsPropertySection"
            filter="org.eclipse.sirius.diagram.ui.tools.internal.properties.filter.DNodeListElementEditPartPropertySectionFilter"
            class="org.eclipse.sirius.diagram.ui.tools.internal.properties.LabelColorAndFontPropertySection"
            tab="property.tab.AppearancePropertySection">
         </propertySection>
         <propertySection id="property.section.DEdgeNameAppearancePropertySection"
            filter="org.eclipse.sirius.diagram.ui.tools.internal.properties.filter.DEdgeNamePropertyFilter"
            class="org.eclipse.sirius.diagram.ui.tools.internal.properties.LabelColorAndFontPropertySection"
            tab="property.tab.AppearancePropertySection">
         </propertySection>
         <propertySection id="property.section.RulerGridPropertySection"
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.DiagramEditPartPropertySectionFilter"
            class="org.eclipse.gmf.runtime.diagram.ui.properties.sections.grid.RulerGridPropertySection"
            tab="property.tab.DiagramPropertySection">
         </propertySection>
         <propertySection
               class="org.eclipse.sirius.diagram.ui.tools.internal.properties.SemanticPropertySection"
               filter="org.eclipse.sirius.diagram.ui.tools.internal.properties.filter.SemanticPropertyFilter"
               id="property.section.semantic"
               tab="property.tab.semantic">
            <input
                  type="org.eclipse.gmf.runtime.notation.View">
            </input>
            <input
                  type="org.eclipse.gef.EditPart">
            </input>
         </propertySection>
         <propertySection
               class="org.eclipse.sirius.diagram.ui.tools.internal.properties.ExtensionSemanticPropertiesSection"
               filter="org.eclipse.sirius.diagram.ui.tools.internal.properties.filter.ExtendedPropertyFilter"
               id="property.section.extension"
               tab="property.tab.extension">
            <input
                  type="org.eclipse.gmf.runtime.notation.View">
            </input>
            <input
                  type="org.eclipse.gef.EditPart">
            </input>
         </propertySection>
         <propertySection
               class="org.eclipse.sirius.diagram.ui.tools.internal.properties.SemanticAndExtensionPropertySection"
               filter="org.eclipse.sirius.diagram.ui.tools.internal.properties.filter.SemanticExtensionPropertyFilter"
               id="property.section.semantic.extension"
               tab="property.tab.semantic.extension">
            <input
                  type="org.eclipse.gmf.runtime.notation.View">
            </input>
            <input
                  type="org.eclipse.gef.EditPart">
            </input>
         </propertySection>
           <propertySection
                 afterSection="property.section.semantic"
                 class="org.eclipse.sirius.diagram.ui.tools.internal.properties.BehaviorsPropertySection"
                 id="property.section.behaviors"
                 tab="property.tab.behaviors">
              <input
                    type="org.eclipse.sirius.diagram.ui.internal.edit.parts.DDiagramEditPart">
              </input>
           </propertySection>
           <propertySection
                 afterSection="property.section.behaviors"
                 class="org.eclipse.sirius.diagram.ui.tools.internal.properties.DocumentationPropertySection"
                 id="property.section.documentation"
                 tab="property.tab.documentation">
              <input
                    type="org.eclipse.sirius.diagram.ui.internal.edit.parts.DDiagramEditPart">
              </input>
           </propertySection>
         <propertySection
               class="org.eclipse.sirius.diagram.ui.tools.internal.properties.StylePropertySection"
               filter="org.eclipse.sirius.diagram.ui.tools.internal.properties.filter.StylePropertyFilter"
               id="property.section.style"
               tab="property.tab.style">
            <input
                  type="org.eclipse.gef.EditPart">
            </input>
            <input
                  type="org.eclipse.gmf.runtime.notation.View">
            </input>
         </propertySection>

         <!-- This section is only usefull for debug purpose..
         <propertySection
               class="org.eclipse.sirius.diagram.ui.tools.api.properties.MiscPropertySection"
               filter="org.eclipse.sirius.diagram.ui.tools.api.properties.filter.MiscPropertyFilter"
               id="property.section.misc"
               tab="property.tab.misc">
            <input
                  type="org.eclipse.gef.EditPart">
            </input>
         </propertySection>
         -->

      </propertySections>
   </extension>

   <extension point="org.eclipse.gmf.runtime.diagram.core.viewProviders">
      <?gmfgen generated="true"?>
      <viewProvider class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusViewProvider">
         <Priority name="Lowest"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Diagram" semanticHints="Sirius"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Node" semanticHints=""/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Edge" semanticHints=""/>
      </viewProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.diagram.core.viewProviders">
      <viewProvider class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusNoteViewProvider">
         <Priority name="Low"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Node" semanticHints="Note"/>
      </viewProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.diagram.ui.editpartProviders">
      <?gmfgen generated="true"?>
      <editpartProvider class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusEditPartProvider">
         <Priority name="Medium"/>
      </editpartProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.emf.ui.modelingAssistantProviders">
      <?gmfgen generated="true"?>
      <modelingAssistantProvider class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusModelingAssistantProvider">
         <Priority name="Lowest"/>
         <object
              class="org.eclipse.sirius.diagram.ui.edit.api.part.ISiriusEditPart(org.eclipse.sirius.diagram.ui)"
              id="SIRIUS_EDIT_PART">
        </object>
         <context
               elements="SIRIUS_EDIT_PART"></context>
      </modelingAssistantProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.iconProviders">
      <?gmfgen generated="true"?>
      <IconProvider class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusIconProvider">
         <Priority name="Low"/>
      </IconProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.parserProviders">
      <?gmfgen generated="true"?>
      <ParserProvider class="org.eclipse.sirius.diagram.ui.internal.providers.SiriusParserProvider">
         <Priority name="Lowest"/>
      </ParserProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypeBindings">
      <?gmfgen generated="false"?>
      <clientContext id="AnalysisClientContext">
         <enablement>
            <test
               property="org.eclipse.gmf.runtime.emf.core.editingDomain"
               value="org.eclipse.sirius.analysis.diagram.EditingDomain"/>
         </enablement>
      </clientContext>
      <binding context="AnalysisClientContext">
         <elementType ref="org.eclipse.sirius.diagram.DDiagram_1000"/>
         <elementType ref="org.eclipse.sirius.diagram.DNode_2001"/>
         <elementType ref="org.eclipse.sirius.diagram.DNodeContainer_2002"/>
         <elementType ref="org.eclipse.sirius.diagram.DNodeList_2003"/>
         <elementType ref="org.eclipse.sirius.diagram.DNode_3001"/>
         <elementType ref="org.eclipse.sirius.diagram.BundledImage_3004"/>
         <elementType ref="org.eclipse.sirius.diagram.Dot_3002"/>
         <elementType ref="org.eclipse.sirius.diagram.GaugeCompositeStyle_3006"/>
         <elementType ref="org.eclipse.sirius.diagram.Square_3003"/>
         <elementType ref="org.eclipse.sirius.diagram.Ellipse_3016"/>
         <elementType ref="org.eclipse.sirius.diagram.Lozenge_3017"/>
         <elementType ref="org.eclipse.sirius.diagram.WorkspaceImage_3005"/>
         <elementType ref="org.eclipse.sirius.diagram.Note_3013"/>
         <elementType ref="org.eclipse.sirius.diagram.CustomStyle_3014"/>
         <elementType ref="org.eclipse.sirius.diagram.DNode_3007"/>
         <elementType ref="org.eclipse.sirius.diagram.DNodeContainer_3008"/>
         <elementType ref="org.eclipse.sirius.diagram.DNodeList_3009"/>
         <elementType ref="org.eclipse.sirius.diagram.DNodeListElement_3010"/>
         <elementType ref="org.eclipse.sirius.diagram.DNode_3012"/>
         <elementType ref="org.eclipse.sirius.diagram.DEdge_4001"/>
         <elementType ref="org.eclipse.sirius.diagram.BracketEdge_4002"/>
         <advice ref="org.eclipse.gmf.runtime.diagram.core.advice.notationDepdendents"/>
      </binding>
   </extension>

   <extension point="org.eclipse.ui.commands">
      <?gmfgen generated="true"?>
      <command
         categoryId="org.eclipse.ui.category.edit"
         defaultHandler="org.eclipse.sirius.diagram.ui.part.SiriusDiagramUpdateCommand"
         description="%update.diagram.description"
         id="org.eclipse.sirius.diagram.ui.updateDiagram"
         name="%update.diagram.name"/>
      <?gmfgen generated="false"?>
      <command
         categoryId="org.eclipse.ui.category.edit"
         description="%command.refresh.description"
         id="org.eclipse.sirius.diagram.ui.refreshSirius"
         name="%command.refresh.name"/>
       <command
         categoryId="org.eclipse.ui.category.edit"
         description="%command.hideElement.description"
         id="org.eclipse.sirius.diagram.ui.hideElement"
         name="%command.hideElement.name"/>
       <command
         categoryId="org.eclipse.ui.category.edit"
         description="%command.hideLabel.description"
         id="org.eclipse.sirius.diagram.ui.hideLabel"
         name="%command.hideLabel.name"/>
       <command
         categoryId="org.eclipse.ui.category.edit"
         description="%command.revealHiddenElements.description"
         id="org.eclipse.sirius.diagram.ui.revealElements"
         name="%command.revealHiddenElements.name"/>
     <command
         categoryId="org.eclipse.ui.category.edit"
         description="%command.showLabel.description"
         id="org.eclipse.sirius.diagram.ui.revealLabel"
         name="%command.showLabel.name"/>
       <command
             categoryId="org.eclipse.ui.category.edit"
             description="%command.launchRules.description"
             id="org.eclipse.sirius.diagram.ui.launchRules"
             name="%command.launchRules.name">
       </command>
       <command
             categoryId="org.eclipse.sirius.ui.tools.commands"
             defaultHandler="org.eclipse.sirius.diagram.ui.tools.internal.commands.PinElementsHandler"
             description="%command.pinElements.description"
             id="org.eclipse.sirius.diagram.ui.pinElementsCommand"
             name="%command.pinElements.name">
       </command>
       <command
             categoryId="org.eclipse.sirius.ui.tools.commands"
             defaultHandler="org.eclipse.sirius.diagram.ui.tools.internal.commands.UnpinElementsHandler"
             description="%command.unpinElements.description"
             id="org.eclipse.sirius.diagram.ui.unpinElementsCommand"
             name="%command.unpinElements.name">
       </command>
       <command
           id="org.eclipse.sirius.diagram.ui.command.revealAllElements"
           name="%command.revealAllElements.name">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.command.hideElement"
           name="%command.hideElement.name">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.command.showElement"
           name="%RevealOutlineElementsAction_label">
     </command>
   <command
           id="org.eclipse.sirius.diagram.ui.command.hideLabel"
           name="%command.hideLabel.name">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.command.showLabel"
           name="%command.showLabel.name">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.command.refreshElement"
           name="%command.refresh.name">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.command.synchronizedDiagram"
           name="%command.synchronizedDiagram.name">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.command.validateDiagram"
           name="%command.validateDiagram.name">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.command.deleteFromDiagram"
           name="%command.deleteFromDiagram.name">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.command.show.outline"
           name="%command.quickOutline.name">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.command.deselectAll"
           name="%command.deselectAll.name">
     </command>
     <category name="%category.sirius.name" id="org.eclipse.sirius.common.ui.category"/>
     <command categoryId="org.eclipse.sirius.common.ui.category" description="%command.findInModel.description" id="org.eclipse.sirius.diagram.ui.find.binding.FindElementAction" name="%command.findInModel.name"/>
     <command
           id="org.eclipse.sirius.diagram.ui.removeBendpoints"
           name="%command.removeBendpoints.label">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.resetOrigin"
           name="%command.resetOrigin.label">
     </command>
     <command
           id="org.eclipse.sirius.diagram.ui.setLinkNoteTarget"
           name="%command.setLinkNoteTarget.label">
     </command>
   </extension>

   <extension point="org.eclipse.ui.bindings">
      <?gmfgen generated="true"?>
      <key
         commandId="org.eclipse.sirius.diagram.ui.command.refreshElement"
         contextId="org.eclipse.sirius.diagram.ui.diagramContext"
         schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
         sequence="F5"/>
      <key
            commandId="org.eclipse.sirius.diagram.ui.command.hideElement"
            contextId="org.eclipse.sirius.diagram.ui.diagramContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+H">
      </key>
      <key
            commandId="org.eclipse.sirius.diagram.ui.command.hideLabel"
            contextId="org.eclipse.sirius.diagram.ui.diagramContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+L">
      </key>
    <key
            commandId="org.eclipse.sirius.diagram.ui.command.showLabel"
            contextId="org.eclipse.sirius.diagram.ui.diagramContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+L">
      </key>
      <key
            commandId="org.eclipse.sirius.diagram.ui.command.revealAllElements"
            contextId="org.eclipse.sirius.diagram.ui.diagramContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+R">
      </key>
      <key
            commandId="org.eclipse.sirius.diagram.ui.command.deleteFromDiagram"
            contextId="org.eclipse.sirius.diagram.ui.diagramContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+D">
      </key>
      <key
           commandId="org.eclipse.sirius.diagram.ui.command.show.outline"
           contextId="org.eclipse.sirius.diagram.ui.diagramContext"
           schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
           sequence="M1+O">
     </key>
      <key
            commandId="org.eclipse.sirius.diagram.ui.find.binding.FindElementAction"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M2+M1+M3+F">
      </key>
      <key
            commandId="org.eclipse.sirius.diagram.ui.command.deselectAll"
            contextId="org.eclipse.sirius.diagram.ui.diagramContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Esc">
      </key>
      <key
            commandId="org.eclipse.sirius.diagram.ui.removeBendpoints"
            contextId="org.eclipse.sirius.diagram.ui.diagramContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+-">
      </key>
       <key
            commandId="org.eclipse.sirius.diagram.ui.resetOrigin"
            contextId="org.eclipse.sirius.diagram.ui.diagramContext"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+HOME">
      </key>
   </extension>

<extension point="org.eclipse.gmf.runtime.common.ui.services.markerNavigationProviders">
      <?gmfgen generated="false"?>
      <MarkerNavigationProvider class="org.eclipse.sirius.diagram.ui.tools.internal.marker.SiriusMarkerNavigationProviderSpec">
         <MarkerType name="org.eclipse.sirius.diagram.ui.diagnostic"/>
         <Priority name="Lowest"/>
      </MarkerNavigationProvider>
   </extension>
<extension id="diagnostic" name="%extension.diagramProblems.name" point="org.eclipse.core.resources.markers">
      <?gmfgen generated="true"?>
      <super type="org.eclipse.core.resources.problemmarker"/>
      <super type="org.eclipse.gmf.runtime.common.ui.services.marker"/>
      <persistent value="true"/>
   </extension>

    <!-- gmf generator persistent region begin -->

   <extension point="org.eclipse.core.expressions.propertyTesters">
       <propertyTester
           id="org.eclipse.sirius.diagram.ui.DModelElementPropertyTester"
           type="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart"
           namespace="org.eclipse.sirius.diagram.ui"
           properties="isDModelElement"
           class="org.eclipse.sirius.diagram.ui.tools.internal.testers.DModelElementPropertyTester">
       </propertyTester>
       <propertyTester
           id="org.eclipse.sirius.diagram.ui.DDiagramPropertyTester"
           type="org.eclipse.gmf.runtime.diagram.ui.editparts.DiagramEditPart"
           namespace="org.eclipse.sirius.diagram.ui"
           properties="isDDiagram"
           class="org.eclipse.sirius.diagram.ui.tools.internal.testers.DModelElementPropertyTester">
       </propertyTester>
       <propertyTester
             class="org.eclipse.sirius.diagram.ui.tools.internal.testers.DModelElementPropertyTester"
             id="org.eclipse.sirius.diagram.ui.DDiagramElementPropertyTester"
             namespace="org.eclipse.sirius.diagram.ui"
             properties="isDDiagramElement"
             type="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
       </propertyTester>
       <propertyTester
           id="org.eclipse.sirius.diagram.ui.HiddenElementsTester"
           type="org.eclipse.jface.viewers.ISelection"
           namespace="org.eclipse.sirius.diagram.ui"
           properties="diagramHasHiddenElements"
           class="org.eclipse.sirius.diagram.ui.tools.internal.testers.HiddenElementsTester">
       </propertyTester>
       <propertyTester
           id="org.eclipse.sirius.diagram.ui.DModelElementWithLabelPropertyTester"
           type="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart"
           namespace="org.eclipse.sirius.diagram.ui"
           properties="isDModelElementWithLabel"
           class="org.eclipse.sirius.diagram.ui.tools.internal.testers.DModelElementWithLabelPropertyTester">
       </propertyTester>
       <propertyTester
           id="org.eclipse.sirius.diagram.ui.HiddenLabelTester"
           type="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart"
           namespace="org.eclipse.sirius.diagram.ui"
           properties="isLabelHidden"
           class="org.eclipse.sirius.diagram.ui.tools.internal.testers.HiddenLabelTester">
       </propertyTester>
       <propertyTester
           id="org.eclipse.sirius.diagram.ui.CanHideLabelTester"
           type="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart"
           namespace="org.eclipse.sirius.diagram.ui"
           properties="canHideLabel"
           class="org.eclipse.sirius.diagram.ui.tools.internal.testers.CanHideLabelTester">
       </propertyTester>
       <propertyTester
             class="org.eclipse.sirius.diagram.ui.tools.internal.testers.CanHideElementTester"
             id="org.eclipse.sirius.diagram.ui.CanHideElementTester"
             namespace="org.eclipse.sirius.diagram.ui"
             properties="canHideElement"
             type="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
       </propertyTester>
       <propertyTester
             class="org.eclipse.sirius.diagram.ui.tools.internal.testers.CanShowElementTester"
             id="org.eclipse.sirius.diagram.ui.CanShowElementTester"
             namespace="org.eclipse.sirius.diagram.ui"
             properties="canShowElement"
             type="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
       </propertyTester>
        <propertyTester
           id="org.eclipse.sirius.diagram.ui.CanDeleteFromDiagram"
           type="java.lang.Object"
           namespace="org.eclipse.sirius.diagram.ui"
           properties="canDeleteFromDiagram"
           class="org.eclipse.sirius.diagram.ui.tools.internal.testers.CanDeleteFromDiagramTester">
       </propertyTester>
        <propertyTester
              class="org.eclipse.sirius.diagram.ui.tools.internal.testers.CanRemoveBendpoints"
              id="org.eclipse.sirius.diagram.ui.CanRemoveBendpoints"
              namespace="org.eclipse.sirius.diagram.ui"
              properties="canRemoveBendpoints"
              type="org.eclipse.gmf.runtime.diagram.ui.editparts.ConnectionNodeEditPart">
        </propertyTester>
        <propertyTester
              class="org.eclipse.sirius.diagram.ui.tools.internal.testers.CanResetOrigin"
              id="org.eclipse.sirius.diagram.ui.CanResetOrigin"
              namespace="org.eclipse.sirius.diagram.ui"
              properties="canResetOrigin"
              type="org.eclipse.sirius.diagram.ui.edit.api.part.AbstractDiagramContainerEditPart">
        </propertyTester>
        <propertyTester
              class="org.eclipse.sirius.diagram.ui.tools.internal.testers.LinkNoteTester"
              id="org.eclipse.sirius.diagram.ui.LinkNoteTester"
              namespace="org.eclipse.sirius.diagram.ui"
              properties="isRepresentationLink"
              type="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
        </propertyTester>
   </extension>

   <extension
      point="org.eclipse.ui.menus">
      
   <menuContribution
         locationURI="popup:org.eclipse.sirius.diagram.ui.popup.hideReveal">
      <command
            commandId="org.eclipse.sirius.diagram.ui.command.hideElement"
            icon="icons/categoryHidden.gif"
            label="%command.hideElement.name"
            style="push">
         <visibleWhen
               checkEnabled="false">
            <with
                  variable="activeMenuSelection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.sirius.diagram.ui.edit.api.part.IDiagramElementEditPart">
                  </instanceof>
                  <test
                        property="org.eclipse.sirius.diagram.ui.canHideElement">
                  </test>
               </iterate>
            </with>
         </visibleWhen>
      </command>
      <command
            commandId="org.eclipse.sirius.diagram.ui.command.showElement"
            icon="icons/categoryVisible.gif"
            label="%RevealOutlineElementsAction_label"
            style="push">
         <visibleWhen
               checkEnabled="false">
            <with
                  variable="activeMenuSelection">
               <iterate
                     operator="or">
                  <instanceof
                        value="org.eclipse.sirius.diagram.ui.edit.api.part.IDiagramElementEditPart">
                  </instanceof>
                  <test
                        property="org.eclipse.sirius.diagram.ui.canShowElement">
                  </test>
               </iterate>
            </with>
         </visibleWhen>
      </command>
      <command
            commandId="org.eclipse.sirius.diagram.ui.command.hideLabel"
            icon="icons/categoryLabelHidden.gif"
            label="%command.hideLabel.name"
            style="push">
         <visibleWhen
               checkEnabled="false">
            <with
                  variable="activeMenuSelection">
               <reference definitionId="canHideLabel" />
            </with>
         </visibleWhen>
      </command>
      <command
            commandId="org.eclipse.sirius.diagram.ui.command.showLabel"
            icon="icons/categoryLabelVisible.gif"
            label="%command.showLabel.name"
            style="push">
         <visibleWhen
               checkEnabled="false">
            <with
                  variable="activeMenuSelection">
               <reference definitionId="isLabelHidden" />
            </with>
         </visibleWhen>
      </command>
   </menuContribution>
   <menuContribution
         locationURI="popup:org.eclipse.ui.popup.any?after=filterFormatGroup">
      <command
            commandId="org.eclipse.sirius.diagram.ui.command.refreshElement"
            icon="images/refresh.gif"
            label="%command.refresh.name"
            style="push">
         <visibleWhen
               checkEnabled="false">
            <with
                  variable="activeMenuSelection">
               <iterate>
                  <instanceof
                        value="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
                  </instanceof>
               </iterate>
            </with>
         </visibleWhen>
      </command>
      <command
            commandId="org.eclipse.sirius.diagram.ui.command.synchronizedDiagram"
            label="%command.synchronizedDiagram.name"
            style="toggle">
         <visibleWhen
               checkEnabled="false">
            <with
                  variable="activeMenuSelection">
               <iterate>
                  <instanceof
                        value="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
                  </instanceof>
               </iterate>
            </with>
         </visibleWhen>
      </command>
      <menu
            id="org.eclipse.sirius.diagram.ui.popup.hideReveal"
            label="%menu.showHide.label">
         <visibleWhen
               checkEnabled="false">
            <with
                  variable="selection">
               <iterate>
                  <instanceof
                        value="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
                  </instanceof>
                  <not>
                     <instanceof
                           value="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
                     </instanceof>
                  </not>
               </iterate>
            </with>
         </visibleWhen>
      </menu>
   </menuContribution>
   <menuContribution
         locationURI="popup:org.eclipse.ui.popup.any?before=additions">
      <separator
            name="org.eclipse.sirius.diagram.ui.popup.otherActions"
            visible="true">
      </separator>
   </menuContribution>
   <menuContribution
         locationURI="popup:org.eclipse.ui.popup.any?after=org.eclipse.sirius.diagram.ui.popup.otherActions">
      <command
            commandId="org.eclipse.sirius.diagram.ui.command.validateDiagram"
            label="%command.validateDiagram.label"
            style="push">
         <visibleWhen
               checkEnabled="false">
            <with
                  variable="activeMenuSelection">
               <count
                     value="+">
               </count>
               <iterate
                     operator="and">
                  <instanceof
                        value="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
                  </instanceof>
               </iterate>
            </with>
         </visibleWhen>
      </command>
   </menuContribution>
   <menuContribution
         allPopups="false"
         locationURI="popup:org.eclipse.ui.popup.any?after=formatMenu">
      <command
            commandId="org.eclipse.sirius.diagram.ui.removeBendpoints"
            label="%command.removeBendpoints.label"
            style="push">
         <visibleWhen
               checkEnabled="false">
            <and>
               <with
                  variable="selection">
               <iterate
                     operator="and">
                  <instanceof
                        value="org.eclipse.gmf.runtime.diagram.ui.editparts.ConnectionNodeEditPart">
                  </instanceof>
               </iterate>
            </with>
               <with
                     variable="activeEditorId">
                  <equals
                        value="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID">
                  </equals>
               </with>
                </and>
           
         </visibleWhen>
      </command>
   </menuContribution>
      <menuContribution
         allPopups="false"
         locationURI="popup:org.eclipse.ui.popup.any?after=arrangeMenu">
      <command
            commandId="org.eclipse.sirius.diagram.ui.resetOrigin"
            label="%command.resetOrigin.label"
            style="push">
            <visibleWhen
               checkEnabled="false">
            <with
                  variable="activeMenuSelection">
               <iterate
                     operator="and">
                  <or>
                     <instanceof
                           value="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
                     </instanceof>
                     <and>
                        <instanceof
                              value="org.eclipse.sirius.diagram.ui.edit.api.part.AbstractDiagramContainerEditPart">
                        </instanceof>
                        <test
                              property="org.eclipse.sirius.diagram.ui.canResetOrigin">
                        </test>
                     </and>
                  </or>
               </iterate>
            </with>
         </visibleWhen>
      </command>
   </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.gmf.runtime.diagram.ui.DiagramEditorContextMenu?after=org.eclipse.sirius.diagram.ui.popup.otherActions">
      <command
            commandId="org.eclipse.sirius.diagram.ui.setLinkNoteTarget"
            label="%command.setLinkNoteTarget.label"
            style="push">
         <visibleWhen
               checkEnabled="true">
         </visibleWhen>
      </command>
      </menuContribution>
</extension>



   <!-- create diagram menu -->
  <extension point="org.eclipse.ui.popupMenus">
      <objectContribution
            adaptable="false"
            id="org.eclipse.sirius.diagram.ui.edit.parts.ViewNodeEditPartMenu"
            objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.ISiriusEditPart">
         <action
               class="org.eclipse.sirius.diagram.ui.tools.internal.actions.delete.DeleteFromDiagramAction"
               definitionId="org.eclipse.sirius.diagram.ui.command.deleteFromDiagram"
               enablesFor="+"
               icon="icons/delete.gif"
               id="org.eclipse.sirius.diagram.ui.actions.DeleteFromDiagramActionID"
               label="%action.deleteFromDiagram.label"
               menubarPath="editMenu/deleteFromGroup">
         </action>
      </objectContribution>
      <objectContribution
            adaptable="false"
            id="org.eclipse.sirius.diagram.ui.show.outline"
            objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
         <action
               class="org.eclipse.sirius.diagram.ui.tools.internal.outline.QuickOutlineAction"
               definitionId="org.eclipse.sirius.diagram.ui.command.show.outline"
               enablesFor="*"
               id="org.eclipse.sirius.diagram.ui.action.show.outline"
               label="%action.quickSearch.label">
         </action>
      </objectContribution>
      <objectContribution
            adaptable="false"
            id="org.eclipse.sirius.common.ui.oc.findelement"
            objectClass="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
         <menu
               id="org.eclipse.sirius.common.ui.menu.findelement"
               label="%menu.find.label"
               path="additions">
            <separator
                  name="group1">
            </separator>
         </menu>
         <action
               class="org.eclipse.sirius.diagram.ui.tools.api.action.FindElementAction"
               definitionId="org.eclipse.sirius.diagram.ui.find.binding.FindElementAction"
               id="org.eclipse.sirius.diagram.ui.find.binding.FindElementAction"
               label="%action.find.label"
               style="push">
         </action>
      </objectContribution>
  </extension>
  <extension
        point="org.eclipse.gmf.runtime.diagram.ui.layoutProviders">
     <layoutProvider class="org.eclipse.sirius.diagram.ui.tools.api.layout.provider.DefaultLayoutProvider">
        <Priority name="Medium"/>
     </layoutProvider>
  </extension>
  <extension id="siriusDecoratorProvider" name="SiriusDecorations" point="org.eclipse.gmf.runtime.diagram.ui.decoratorProviders">
      <decoratorProvider class="org.eclipse.sirius.diagram.ui.tools.internal.decoration.SiriusDecoratorProvider">
       <Priority name="High"/>
         <object class="org.eclipse.sirius.diagram.ui.edit.api.part.IAbstractDiagramNodeEditPart(org.eclipse.sirius.diagram.ui)" id="SIRIUS_ABSTRACT_NODE_PRIMARY_VIEW"/>
         <object class="org.eclipse.sirius.diagram.ui.edit.api.part.IDiagramEdgeEditPart(org.eclipse.sirius.diagram.ui)" id="SIRIUS_EDGE_PRIMARY_VIEW"/>                         
         <context decoratorTargets="SIRIUS_ABSTRACT_NODE_PRIMARY_VIEW,SIRIUS_EDGE_PRIMARY_VIEW"/>
      </decoratorProvider>
   </extension>
   <extension id="removeGMFPresentationDecoratorProvider" name="RemoveGMFPresentationDecoratorProvider" point="org.eclipse.gmf.runtime.diagram.ui.decoratorProviders">
      <decoratorProvider class="org.eclipse.sirius.diagram.ui.tools.internal.decoration.SiriusBookmarkAndUnresolvedViewDecoratorProvider">
         <Priority name="High"/>
         <object class="org.eclipse.sirius.diagram.ui.edit.api.part.IAbstractDiagramNodeEditPart(org.eclipse.sirius.diagram.ui)" id="SIRIUS_ABSTRACT_NODE_PRIMARY_VIEW"/>
         <object class="org.eclipse.sirius.diagram.ui.edit.api.part.IDiagramEdgeEditPart(org.eclipse.sirius.diagram.ui)" id="SIRIUS_EDGE_PRIMARY_VIEW"/>
         <context decoratorTargets="SIRIUS_ABSTRACT_NODE_PRIMARY_VIEW,SIRIUS_EDGE_PRIMARY_VIEW"/>
      </decoratorProvider>
   </extension>
  <extension
        point="org.eclipse.gmf.runtime.emf.clipboard.core.clipboardSupport">
     <factory
           class="org.eclipse.sirius.diagram.ui.tools.internal.clipboard.ClipboardSupportFactory"
           nsURI="http://www.eclipse.org/gmf/runtime/1.0.1/notation"
           policy="org.eclipse.sirius.diagram.ui.tools.internal.clipboard.ClipboardSupportPolicy"
           priority="high">
     </factory>
  </extension>

 <extension
         point="org.eclipse.ui.ide.markerResolution">
      <markerResolutionGenerator
            markerType="org.eclipse.sirius.diagram.ui.diagnostic"
            class="org.eclipse.sirius.diagram.ui.internal.quickfix.DesignerResolutionGenerator">
      </markerResolutionGenerator>
   </extension>

  <!-- gmf generator persistent region end -->

  
  <extension
        point="org.eclipse.sirius.diagram.ui.layoutProvider">
     <layoutProvider
           priority="low"
           providerClass="org.eclipse.sirius.diagram.ui.tools.internal.layout.provider.CompositeLeftRightProvider">
     </layoutProvider>
     <layoutProvider
           priority="low"
           providerClass="org.eclipse.sirius.diagram.ui.tools.internal.layout.provider.CompositeTopDownProvider">
     </layoutProvider>
      <layoutProvider
           priority="lowest"
           providerClass="org.eclipse.sirius.diagram.ui.tools.internal.layout.provider.CompositeDownTopProvider">
     </layoutProvider>
     <layoutProvider
           priority="high"
           providerClass="org.eclipse.sirius.diagram.ui.tools.internal.layout.provider.OrderedTreeLayoutProvider">
     </layoutProvider>
  </extension>
  <extension
        point="org.eclipse.gmf.runtime.diagram.ui.editpolicyProviders">
     <editpolicyProvider
           class="org.eclipse.sirius.diagram.ui.graphical.edit.policies.DoubleClickEditPolicyProvider">
        <Priority
              name="Lowest">
        </Priority>
        <object
              class="org.eclipse.sirius.diagram.ui.edit.api.part.ISiriusEditPart(org.eclipse.sirius.diagram.ui)"
              id="SIRIUS_EDIT_PART">
        </object>
        <context
              editparts="SIRIUS_EDIT_PART">
        </context>
     </editpolicyProvider>
     <editpolicyProvider
           class="org.eclipse.sirius.diagram.ui.tools.internal.graphical.edit.policies.ChangeBoundRequestRecorderEditPolicyProvider">
        <Priority
              name="Low">
        </Priority>
        <object
              class="org.eclipse.sirius.diagram.ui.edit.api.part.ISiriusEditPart(org.eclipse.sirius.diagram.ui)"
              id="SIRIUS_EDIT_PART">
        </object>
        <context
              editparts="SIRIUS_EDIT_PART">
        </context>
     </editpolicyProvider>
     <editpolicyProvider
           class="org.eclipse.sirius.diagram.ui.internal.edit.policies.NoteTextEditPolicyProvider">
        <Priority
              name="Lowest">
        </Priority>
        <object
              class="org.eclipse.gmf.runtime.diagram.ui.editparts.NoteEditPart"
              id="GMF_NOTE_EDIT_PART">
        </object>
        <object
              class="org.eclipse.gmf.runtime.diagram.ui.internal.editparts.TextEditPart"
              id="GMF_TEXT_EDIT_PART">
        </object>
        <context
              editparts="GMF_NOTE_EDIT_PART, GMF_TEXT_EDIT_PART">
        </context>
     </editpolicyProvider>
     <editpolicyProvider
           class="org.eclipse.sirius.diagram.ui.internal.edit.policies.NoteAttachmentEditPolicyProvider">
        <Priority
              name="Lowest">
        </Priority>
        <object
              class="org.eclipse.gmf.runtime.diagram.ui.internal.editparts.NoteAttachmentEditPart"
              id="GMF_NOTE_ATTACHMENT_EDIT_PART">
        </object>
        <context
              editparts="GMF_NOTE_ATTACHMENT_EDIT_PART">
        </context>
     </editpolicyProvider>
  </extension>
  <extension
        point="org.eclipse.sirius.diagram.ui.viewOrderingProvider">
     <viewOrderingProvider
           providerClass="org.eclipse.sirius.diagram.ui.tools.internal.layout.ordering.OrderedTreeViewOrderingProvider">
     </viewOrderingProvider>
  </extension>
  <extension
        point="org.eclipse.sirius.ui.dialectui">
     <dialectUI
           class="org.eclipse.sirius.diagram.ui.business.internal.dialect.DiagramDialectUI">
     </dialectUI>
  </extension>

    <extension
        point="org.eclipse.ui.handlers">
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.RevealAllElementsCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.revealAllElements">
           <activeWhen>
            <or>
             <with variable="activeMenuSelection"> 
               <reference definitionId="diagramHasHiddenElements" />
             </with>
             <with variable="selection">
               <reference definitionId="diagramHasHiddenElements" />
             </with>
            </or>
           </activeWhen>
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.HideElementCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.hideElement">
           <activeWhen>
             <or>
              <with variable="activeMenuSelection">
                <reference definitionId="allInstanceOfIDiagramElementEditPart" />
              </with>
              <with variable="selection">
                <reference definitionId="allInstanceOfIDiagramElementEditPart" />
              </with>
             </or>
           </activeWhen>
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.RevealElementCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.showElement">
           <activeWhen>
             <or>
              <with variable="activeMenuSelection">
                <reference definitionId="allInstanceOfIDiagramElementEditPart" />
              </with>
              <with variable="selection">
                <reference definitionId="allInstanceOfIDiagramElementEditPart" />
              </with>
             </or>
           </activeWhen>
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.HideLabelCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.hideLabel">
           <activeWhen>
            <or>
              <with variable="activeMenuSelection">
                <reference definitionId="canHideLabel" />
              </with>
              <with variable="selection">
                <reference definitionId="canHideLabel" />
              </with>
            </or>  
           </activeWhen>
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.ShowLabelCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.showLabel">
           <activeWhen>
            <or>
              <with variable="activeMenuSelection">
                <reference definitionId="isLabelHidden" />
              </with>
              <with variable="selection">
                <reference definitionId="isLabelHidden" />
              </with>
            </or>
           </activeWhen>
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.RefreshElementCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.refreshElement">
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.SynchronizedDiagramCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.synchronizedDiagram">
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.ValidateDiagramCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.validateDiagram">
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.QuickOutlineCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.show.outline">
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.DeleteFromDiagramHandler"
           commandId="org.eclipse.sirius.diagram.ui.command.deleteFromDiagram">
        <activeWhen>
           <with
                 variable="selection">
              <iterate
                    operator="and">
                 <test
                       property="org.eclipse.sirius.diagram.ui.canDeleteFromDiagram">
                 </test>
              </iterate>
           </with>
        </activeWhen>
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.FindElementCommand"
           commandId="org.eclipse.sirius.diagram.ui.find.binding.FindElementAction">
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.commands.DeselectAllCommand"
           commandId="org.eclipse.sirius.diagram.ui.command.deselectAll">
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.handler.RemoveBendpointsHandler"
           commandId="org.eclipse.sirius.diagram.ui.removeBendpoints">
        <activeWhen>
           <with
                 variable="selection">
              <iterate
                    operator="and">
                 <test
                       property="org.eclipse.sirius.diagram.ui.canRemoveBendpoints">
                 </test>
              </iterate>
           </with>
        </activeWhen>
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.handler.ResetOriginHandler"
           commandId="org.eclipse.sirius.diagram.ui.resetOrigin">
        <activeWhen>
           <with
                 variable="selection">
              <iterate
                    operator="and">
                 <or>
                     <instanceof
                           value="org.eclipse.sirius.diagram.ui.edit.api.part.IDDiagramEditPart">
                     </instanceof>
                     <and>
                       <instanceof
                           value="org.eclipse.sirius.diagram.ui.edit.api.part.AbstractDiagramContainerEditPart">
                       </instanceof>
                       <test
                           property="org.eclipse.sirius.diagram.ui.canResetOrigin">
                       </test>
                     </and>
                  </or>
              </iterate>
           </with>
        </activeWhen>
     </handler>
     <handler
           class="org.eclipse.sirius.diagram.ui.tools.internal.handler.SetLinkNoteTargetHandler"
           commandId="org.eclipse.sirius.diagram.ui.setLinkNoteTarget">
        <activeWhen>
           <and>
              <count
                    value="1">
              </count>
              <iterate>
                 <test
                       property="org.eclipse.sirius.diagram.ui.isRepresentationLink">
                 </test>
              </iterate>
           </and>
        </activeWhen>
     </handler>
  </extension>
  <extension
        point="org.eclipse.core.expressions.definitions">
     <definition id="isInstanceOfIDiagramElementEditPart">
           <instanceof value="org.eclipse.sirius.diagram.ui.edit.api.part.IDiagramElementEditPart" />
     </definition>
     <definition id="allInstanceOfIDiagramElementEditPart">
           <iterate operator="and">
              <reference definitionId="isInstanceOfIDiagramElementEditPart" />
           </iterate>
     </definition>
     <definition id="diagramHasHiddenElements">
           <test property="org.eclipse.sirius.diagram.ui.diagramHasHiddenElements" />
     </definition>
     <definition id="isLabelHidden">
      <iterate operator="or">
         <test property="org.eclipse.sirius.diagram.ui.isLabelHidden" />
      </iterate>
     </definition>
     <definition id="canHideLabel">
      <iterate operator="or">
         <test property="org.eclipse.sirius.diagram.ui.canHideLabel" />
      </iterate>
     </definition>
  </extension>
  
   <extension
         point="org.eclipse.sirius.repairParticipant">
      <repairParticipant
            class="org.eclipse.sirius.diagram.ui.tools.internal.actions.repair.DiagramRepairParticipant">
      </repairParticipant>
   </extension>
   <extension
         point="org.eclipse.sirius.migrationParticipant">
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.DiagramRepresentationsFileMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.StyleCustomizationsRepresentationsFileMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.SetGMFViewsToNillMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.FontStyleForDNodeListElementMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.description.ListContainerAttributeMigrationParticipant"
            kind="VSM">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.description.OptionalLayersVSMMigrationParticipant"
            kind="VSM">
      </participant>
            <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.description.AcceleoExpressionsMigrationParticipant"
            kind="VSM">
      </participant>
            <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.DiagramSplitMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
             class="org.eclipse.sirius.diagram.ui.business.internal.migration.DiagramSplitMigrationParticipant"
             kind="VSM">
       </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.description.RoundedCornerDefaultValuesMigrationParticipant"
            kind="VSM">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.CollapseSupportOnRegionMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.description.BorderSizeComputationExpressionMigrationParticipant"
            kind="VSM">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.BorderSizeRepresentationFileMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.description.DecorationImageDescriptionVSMMigrationParticipant"
            kind="VSM">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.NoteShapeDefaultLabelAlignmentMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.SnapBackDistantLabelsMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.RepairGMFbendpointsMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.DeleteMultipleConnectorStyleMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.RepresentationLinkMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
      <participant
            class="org.eclipse.sirius.diagram.ui.business.internal.migration.LabelOnBorderMigrationParticipant"
            kind="RepresentationsFile">
      </participant>
   </extension>

   <extension point="org.eclipse.emf.edit.itemProviderAdapterFactories">
      <!-- @generated diagram -->
      <factory
            uri="http://www.eclipse.org/sirius/diagram/1.1.0"
            class="org.eclipse.sirius.diagram.provider.DiagramItemProviderAdapterFactory"
            supportedTypes=
              "org.eclipse.emf.edit.provider.IEditingDomainItemProvider
               org.eclipse.emf.edit.provider.IStructuredItemContentProvider
               org.eclipse.emf.edit.provider.ITreeItemContentProvider
               org.eclipse.emf.edit.provider.IItemLabelProvider
               org.eclipse.emf.edit.provider.IItemPropertySource"/>
   </extension>

   <extension point="org.eclipse.emf.edit.itemProviderAdapterFactories">
      <!-- @generated diagram -->
      <factory
            uri="http://www.eclipse.org/sirius/diagram/description/1.1.0"
            class="org.eclipse.sirius.diagram.description.provider.DescriptionItemProviderAdapterFactory"
            supportedTypes=
              "org.eclipse.emf.edit.provider.IEditingDomainItemProvider
               org.eclipse.emf.edit.provider.IStructuredItemContentProvider
               org.eclipse.emf.edit.provider.ITreeItemContentProvider
               org.eclipse.emf.edit.provider.IItemLabelProvider
               org.eclipse.emf.edit.provider.IItemPropertySource"/>
   </extension>

   <extension point="org.eclipse.emf.edit.childCreationExtenders">
      <!-- @generated diagram -->
      <extender
            uri="http://www.eclipse.org/sirius/description/1.1.0"
            class="org.eclipse.sirius.diagram.description.provider.DescriptionItemProviderAdapterFactory$DescriptionChildCreationExtender"/>
   </extension>

   <extension point="org.eclipse.emf.edit.itemProviderAdapterFactories">
      <!-- @generated diagram -->
      <factory
            uri="http://www.eclipse.org/sirius/diagram/description/style/1.1.0"
            class="org.eclipse.sirius.diagram.description.style.provider.StyleItemProviderAdapterFactory"
            supportedTypes=
              "org.eclipse.emf.edit.provider.IEditingDomainItemProvider
               org.eclipse.emf.edit.provider.IStructuredItemContentProvider
               org.eclipse.emf.edit.provider.ITreeItemContentProvider
               org.eclipse.emf.edit.provider.IItemLabelProvider
               org.eclipse.emf.edit.provider.IItemPropertySource"/>
   </extension>

   <extension point="org.eclipse.emf.edit.itemProviderAdapterFactories">
      <!-- @generated diagram -->
      <factory
            uri="http://www.eclipse.org/sirius/diagram/description/tool/1.1.0"
            class="org.eclipse.sirius.diagram.description.tool.provider.ToolItemProviderAdapterFactory"
            supportedTypes=
              "org.eclipse.emf.edit.provider.IEditingDomainItemProvider
               org.eclipse.emf.edit.provider.IStructuredItemContentProvider
               org.eclipse.emf.edit.provider.ITreeItemContentProvider
               org.eclipse.emf.edit.provider.IItemLabelProvider
               org.eclipse.emf.edit.provider.IItemPropertySource"/>
   </extension>

   <extension point="org.eclipse.emf.edit.childCreationExtenders">
      <!-- @generated diagram -->
      <extender
            uri="http://www.eclipse.org/sirius/description/1.1.0"
            class="org.eclipse.sirius.diagram.description.tool.provider.ToolItemProviderAdapterFactory$DescriptionChildCreationExtender"/>
      <extender
            uri="http://www.eclipse.org/sirius/description/tool/1.1.0"
            class="org.eclipse.sirius.diagram.description.tool.provider.ToolItemProviderAdapterFactory$ToolChildCreationExtender"/>
   </extension>

   <extension point="org.eclipse.emf.edit.itemProviderAdapterFactories">
      <!-- @generated diagram -->
      <factory
            uri="http://www.eclipse.org/sirius/diagram/description/filter/1.1.0"
            class="org.eclipse.sirius.diagram.description.filter.provider.FilterItemProviderAdapterFactory"
            supportedTypes=
              "org.eclipse.emf.edit.provider.IEditingDomainItemProvider
               org.eclipse.emf.edit.provider.IStructuredItemContentProvider
               org.eclipse.emf.edit.provider.ITreeItemContentProvider
               org.eclipse.emf.edit.provider.IItemLabelProvider
               org.eclipse.emf.edit.provider.IItemPropertySource"/>
   </extension>

   <extension point="org.eclipse.emf.edit.itemProviderAdapterFactories">
      <!-- @generated diagram -->
      <factory
            uri="http://www.eclipse.org/sirius/diagram/description/concern/1.1.0"
            class="org.eclipse.sirius.diagram.description.concern.provider.ConcernItemProviderAdapterFactory"
            supportedTypes=
              "org.eclipse.emf.edit.provider.IEditingDomainItemProvider
               org.eclipse.emf.edit.provider.IStructuredItemContentProvider
               org.eclipse.emf.edit.provider.ITreeItemContentProvider
               org.eclipse.emf.edit.provider.IItemLabelProvider
               org.eclipse.emf.edit.provider.IItemPropertySource"/>
   </extension>
   <extension
         point="org.eclipse.sirius.diagram.canonicalSynchronizerFactoryOverride">
      <factory
            class="org.eclipse.sirius.diagram.ui.internal.refresh.factory.CanonicalSynchronizerFactoryImpl">
      </factory>
   </extension>
   <extension
         point="org.eclipse.gmf.runtime.common.ui.services.statusLineContributionItemProviders">
      <statusLineContributionItemProvider
            class="org.eclipse.sirius.diagram.ui.tools.internal.providers.SiriusStatusLineContributionItemProvider">
         <Priority
               name="Highest">
         </Priority>
      </statusLineContributionItemProvider>
   </extension>
	<extension
         point="org.eclipse.sirius.diagram.ui.layoutProvider">
      <layoutProvider
            priority="highest"
            providerClass="org.eclipse.sirius.diagram.ui.internal.layout.GenericLayoutProvider">
      </layoutProvider>
   </extension>
   <extension
         point="org.eclipse.gmf.runtime.diagram.ui.paletteProviders">
    <paletteProvider
          class="org.eclipse.gmf.runtime.diagram.ui.providers.DefaultPaletteProvider">
       <Priority
             name="Low">
       </Priority>
       <contribution
             factoryClass="org.eclipse.sirius.diagram.ui.tools.internal.palette.SiriusDiagramPaletteFactory">
          <entry
                description="%palettetool.linkNote.description"
                id="linkNoteTool"
                kind="tool"
                label="%palettetool.linkNote.label"
                large_icon="icons/DDiagram.gif"
                path="/standardGroup/noteStack/noteTool"
                small_icon="icons/DDiagram.gif">
          </entry>
       </contribution>
       <editor
             id="org.eclipse.sirius.diagram.ui.part.SiriusDiagramEditorID">
       </editor>
    </paletteProvider>
   </extension>
    <extension
       point="org.eclipse.gmf.runtime.emf.type.core.elementTypes">
    <specializationType
          id="org.eclipse.sirius.diagram.LinkNote"
          kind="org.eclipse.gmf.runtime.diagram.ui.util.INotationType"
          name="%palettetool.linkNote.elementTypeName">
       <specializes
             id="org.eclipse.gmf.runtime.diagram.ui.presentation.note">
       </specializes>
       <param
             name="semanticHint"
             value="Note">
       </param>
    </specializationType>
 </extension>
</plugin>
